{"version":3,"file":"assets/js/app.7e2a339f.js","mappings":"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","sources":["webpack://babylon_js/./src/App.vue?0fd5","webpack://babylon_js/./src/store/controller_move/mutations.ts","webpack://babylon_js/./src/store/controller_move/index.ts","webpack://babylon_js/./src/store/controller_rotate/mutations.ts","webpack://babylon_js/./src/store/controller_rotate/index.ts","webpack://babylon_js/./src/models/storage/Settings.ts","webpack://babylon_js/./src/store/settings/mutations.ts","webpack://babylon_js/./src/store/settings/index.ts","webpack://babylon_js/./src/models/storage/Level.ts","webpack://babylon_js/./src/store/level/mutations.ts","webpack://babylon_js/./src/store/level/index.ts","webpack://babylon_js/./src/store/players/mutations.ts","webpack://babylon_js/./src/store/players/index.ts","webpack://babylon_js/./src/store/index.ts","webpack://babylon_js/./src/models/scene/Environment.ts","webpack://babylon_js/./src/models/Helpers.ts","webpack://babylon_js/./src/models/scene/Scene.ts","webpack://babylon_js/./src/models/sounds/SoundMain.ts","webpack://babylon_js/./src/models/sounds/Music.ts","webpack://babylon_js/./src/models/sounds/Background.ts","webpack://babylon_js/./src/models/sounds/Audio.ts","webpack://babylon_js/./src/models/сommon/SubscribeStore.ts","webpack://babylon_js/./src/models/ServerClient.ts","webpack://babylon_js/./src/models/scene/DevMode.ts","webpack://babylon_js/./src/models/сommon/Body.ts","webpack://babylon_js/./src/models/mehanics/Collisions.ts","webpack://babylon_js/./src/models/сommon/Move.ts","webpack://babylon_js/./src/models/playerSelf/Move.ts","webpack://babylon_js/./src/models/playerSelf/Controller.ts","webpack://babylon_js/./src/models/сommon/character/animation_groups/Idle.ts","webpack://babylon_js/./src/models/сommon/character/animation_groups/Run.ts","webpack://babylon_js/./src/models/сommon/character/animation_groups/JumpMiddle.ts","webpack://babylon_js/./src/models/сommon/character/animation_groups/JumpFinish.ts","webpack://babylon_js/./src/models/сommon/character/animation_groups/Sprint.ts","webpack://babylon_js/./src/models/сommon/character/Animation.ts","webpack://babylon_js/./src/models/сommon/character/Rotation.ts","webpack://babylon_js/./src/models/scene/ContainerManager.ts","webpack://babylon_js/./src/models/сommon/character/Items.ts","webpack://babylon_js/./src/models/сommon/character/Character.ts","webpack://babylon_js/./src/models/playerSelf/Camera.ts","webpack://babylon_js/./src/models/playerSelf/Player.ts","webpack://babylon_js/./src/models/player/Move.ts","webpack://babylon_js/./src/models/player/Controller.ts","webpack://babylon_js/./src/models/player/Player.ts","webpack://babylon_js/./src/models/scene/Prefabs.ts","webpack://babylon_js/./src/models/mehanics/LODs.ts","webpack://babylon_js/./src/models/mehanics/EventPoints.ts","webpack://babylon_js/./src/models/Game.ts","webpack://babylon_js/./src/views/gui/topbar/TopBar.vue","webpack://babylon_js/./src/views/gui/WalletSuiet.jsx","webpack://babylon_js/./src/views/gui/topbar/TopBar.vue?ecd8","webpack://babylon_js/./src/views/LevelPreview.vue?7c7b","webpack://babylon_js/./src/views/LevelPreview.vue?526f","webpack://babylon_js/./src/views/LevelPreview.vue","webpack://babylon_js/./src/views/gui/MenuLevel.vue?c446","webpack://babylon_js/./src/views/gui/MenuLevel.vue?7df6","webpack://babylon_js/./src/views/gui/MenuLevel.vue","webpack://babylon_js/./src/views/gui/Settings.vue?9ce8","webpack://babylon_js/./src/views/gui/Settings.vue?74aa","webpack://babylon_js/./src/views/gui/Settings.vue","webpack://babylon_js/./src/App.vue?847a","webpack://babylon_js/./src/App.vue","webpack://babylon_js/./src/main.ts","webpack://babylon_js/webpack/bootstrap","webpack://babylon_js/webpack/runtime/chunk loaded","webpack://babylon_js/webpack/runtime/create fake namespace object","webpack://babylon_js/webpack/runtime/define property getters","webpack://babylon_js/webpack/runtime/global","webpack://babylon_js/webpack/runtime/hasOwnProperty shorthand","webpack://babylon_js/webpack/runtime/make namespace object","webpack://babylon_js/webpack/runtime/node module decorator","webpack://babylon_js/webpack/runtime/jsonp chunk loading","webpack://babylon_js/webpack/runtime/nonce","webpack://babylon_js/webpack/startup"],"sourcesContent":["import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-340def46\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"level\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"canvas\", { id: \"canvas\" }, null, -1))\nconst _hoisted_3 = {\n  key: 0,\n  id: \"loading_overlay\"\n}\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { id: \"loading_overlay_text\" }, \"Loading...\", -1))\nconst _hoisted_5 = [\n  _hoisted_4\n]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_TopBar = _resolveComponent(\"TopBar\")!\n  const _component_MenuLevel = _resolveComponent(\"MenuLevel\")!\n  const _component_Settings = _resolveComponent(\"Settings\")!\n  const _component_LevelPreview = _resolveComponent(\"LevelPreview\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _hoisted_2,\n      _createVNode(_component_TopBar),\n      _createVNode(_component_MenuLevel),\n      _createVNode(_component_Settings),\n      (this.$store.state.level.loading)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _hoisted_5))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_LevelPreview)\n    ])\n  ]))\n}","import { MutationTree} from 'vuex'\nimport { ControllerState } from '@/store/controller_move/types'\n\nexport const mutations: MutationTree<ControllerState> = {\n  SET_PRESS_MOVE_RIGHT (state, payload) {\n    state.right = payload\n  },\n  SET_PRESS_MOVE_LEFT (state, payload) {\n    state.left = payload\n  },\n  SET_PRESS_MOVE_UP (state, payload) {\n    state.up = payload\n  },\n  SET_PRESS_MOVE_DOWN (state, payload) {\n    state.down = payload\n  },\n  SET_MOVE_LAST_EVENT (state, payload) {\n    state.lastEvent = payload\n  },\n  SET_IS_USED_MOVE_CONTROLLER (state, payload) {\n    state.isUsed = payload\n  }\n}","import { Module } from 'vuex'\nimport { RootState } from '@/store/types'\nimport { ControllerState } from '@/store/controller_move/types'\nimport { mutations } from '@/store/controller_move/mutations'\n\nconst state: ControllerState = {\n  right: false,\n  left: false,\n  up: false,\n  down: false,\n  lastEvent: '',\n  isUsed: false\n}\n\nconst getters = {\n  controllerMoveIsUsed: (state: ControllerState) => state.isUsed,\n}\n\nexport const controllerMove: Module<ControllerState, RootState> = {\n  state,\n  mutations,\n  getters\n}","import { MutationTree} from 'vuex'\nimport { ControllerState } from '@/store/controller_rotate/types'\n\nexport const mutations: MutationTree<ControllerState> = {\n  SET_PRESS_ROTATE_RIGHT (state, payload) {\n    state.right = payload\n  },\n  SET_PRESS_ROTATE_LEFT (state, payload) {\n    state.left = payload\n  },\n  SET_PRESS_ROTATE_UP (state, payload) {\n    state.up = payload\n  },\n  SET_PRESS_ROTATE_DOWN (state, payload) {\n    state.down = payload\n  },\n  SET_ROTATE_LAST_EVENT (state, payload) {\n    state.lastEvent = payload\n  },\n  SET_IS_USED_ROTATE_CONTROLLER (state, payload) {\n    state.isUsed = payload\n  }\n}","import { Module } from 'vuex'\nimport { RootState } from '@/store/types'\nimport { ControllerState } from '@/store/controller_rotate/types'\nimport { mutations } from '@/store/controller_rotate/mutations'\n\nconst state: ControllerState = {\n  right: false,\n  left: false,\n  up: false,\n  down: false,\n  lastEvent: '',\n  isUsed: false\n}\n\nexport const controllerRotate: Module<ControllerState, RootState> = {\n  state,\n  mutations\n}","export interface Field {\n  name: string;\n  value: any;\n  label: string;\n}\n\nexport const Settings = {\n  fields: [\n    {\n      name: 'music',\n      value: true,\n      label: 'Music'\n    },\n    {\n      name: 'sound',\n      value: true,\n      label: 'Sound'\n    },\n    {\n      name: 'dev_mode',\n      value: false,\n      label: 'Dev mode'\n    }\n  ],\n  validateFieldName(name: string) {\n    const field = this.fields.find((field: Field) => field.name == name)\n\n    if (!field) {\n      throw 'Error setting field'\n    }\n\n    return true\n  },\n  setValueByName (name: string, value: any) {\n    this.validateFieldName(name)\n    const fields = this.getFields()\n\n    const settings = fields.map((field: Field) => {\n      if (field.name == name) {\n        field.value = value\n      }\n\n      return field\n    })\n\n    localStorage.setItem('settings', JSON.stringify(settings))\n\n    return true\n  },\n  getValueByName (name: string) {\n    const fields = this.getFields()\n    const field = fields.find((field: Field) => field.name == name)\n\n    if (!field) {\n      throw 'Error setting field'\n    }\n\n    return field.value\n  },\n  getFields () {\n    const settingsStorage = localStorage.getItem('settings')\n    if (settingsStorage) {\n      const settings = JSON.parse(String(settingsStorage))\n      return this.fields.map(field => {\n        const oldField = settings.find((settingField: any) => settingField.name == field.name)\n        if (oldField) {\n          field.value = oldField.value\n        }\n\n        return field\n      })\n    }\n\n    return this.fields\n  }\n}","import { MutationTree } from 'vuex'\nimport { Settings } from '@/store/settings/types'\nimport { Settings as SettingsStorage } from '@/models/storage/Settings'\n\nexport const mutations: MutationTree<Settings> = {\n  SET_SETTINGS_OPEN (state, payload) {\n    state.open = payload\n  },\n  SET_SETTING_FIELD_VALUE (state, payload) {\n    if (SettingsStorage.validateFieldName(payload.name)) {\n      SettingsStorage.setValueByName(payload.name, payload.value)\n      state.fields.forEach((field) => {\n        if (field.name === payload.name) {\n          field.value = payload.value\n        }\n      })\n    }\n  }\n}","import { Module } from 'vuex'\nimport { RootState } from '@/store/types'\nimport { mutations } from '@/store/settings/mutations'\nimport { Settings } from '@/store/settings/types'\nimport { Field, Settings as SettingsLocalStorage } from '@/models/storage/Settings'\n\n\nconst state: Settings = {\n  fields: SettingsLocalStorage.getFields(),\n  open: false\n}\n\nconst getters = {\n  settingFields: (state: Settings) => state.fields,\n  getSettingsFieldByName: (state: Settings) => (name: string) => {\n    return state.fields.find(field => field.name == name)\n  },\n  getSettingsValueByName: (state: Settings) => (name: string) => {\n    const field = state.fields.find((field: Field) => field.name == name)\n\n    if (!field) {\n      throw 'Error setting field in Store state'\n    }\n\n    return field.value\n  }\n}\n\nexport const settings: Module<Settings, RootState> = {\n  state,\n  mutations,\n  getters\n}\n","export const Level = {\n  saveCompletedLevel (levelId: number | string) {\n    if (!this.checkCompletedLevelId(levelId)) {\n      const levelsIds = this.getCompletedLevelsIds()\n      levelsIds.push(String(levelId))\n\n      localStorage.setItem('completedLevelsIds', levelsIds.join(','))\n    }\n\n    this.setLastCompletedLevelId(String(levelId))\n  },\n  getCompletedLevelsIds () {\n    const completedLevels = localStorage.getItem('completedLevelsIds')\n    return completedLevels ? completedLevels.split(',') : []\n  },\n  getLastCompletedLevelId () {\n    return Number(localStorage.getItem('lastCompletedLevelsId'))\n  },\n  setLastCompletedLevelId(levelId: string) {\n    return localStorage.setItem('lastCompletedLevelsId', levelId)\n  },\n  checkCompletedLevelId(levelId: number | string) {\n    const ids = this.getCompletedLevelsIds()\n    return ids.find(id => id == levelId)\n  }\n}","import { MutationTree } from 'vuex'\nimport { LevelState } from '@/store/level/types'\nimport { Level as LevelStorage } from '@/models/storage/Level'\n\nexport const mutations: MutationTree<LevelState> = {\n  SET_LEVEL (state, payload) {\n    state.levelId = payload\n  },\n  SET_PLAY (state) {\n    state.play = true\n  },\n  SET_OPEN_MENU (state, payload) {\n    state.isMenuOpen = payload\n  },\n  SET_DATE_LAST_USED_CONTROLLERS (state, payload) {\n    state.dateLastUsedControllers = payload\n  },\n  SET_IS_USED_CONTROLLERS (state, payload) {\n    state.isUsedControllers = payload\n  },\n  MAP_TOGGLE (state) {\n    state.isMapOpen = !state.isMapOpen\n  },\n  LOADING_TOGGLE (state) {\n    state.loading = !state.loading\n  },\n  SET_LOWER_FLOOR_POSITION (state, payload) {\n    state.lowerFloorPosition.x = payload.x\n    state.lowerFloorPosition.y = payload.y\n    state.lowerFloorPosition.z = payload.z\n  },\n  SET_LOWER_FLOOR_SIZE (state, payload) {\n    state.lowerFloorSize.width = payload.width\n    state.lowerFloorSize.height = payload.height\n  },\n  ADD_KEY (state, payload) {\n    state.keys.push(payload)\n  },\n  SET_ACTIVE_KEY (state, payload) {\n    const key = state.keys.find(key => key.id == payload)\n\n    if (key) {\n      key.status = true\n    }\n\n    state.keysActiveCount = state.keys.filter(key => key.status).length\n  },\n  CHARGE_BATTERY_UP (state, payload) {\n    if (state.batteryCharge < 100) {\n      if (state.batteryCharge + payload <= 100) {\n        state.batteryCharge += payload\n      } else {\n        state.batteryCharge = 100\n      }\n    }\n  },\n  CHARGE_BATTERY_DOWN (state, payload) {\n    if (state.batteryCharge != 0) {\n      if (state.batteryCharge - payload >= 0) {\n        state.batteryCharge -= payload\n      } else {\n        state.batteryCharge = 0\n      }\n    }\n  },\n  SET_FINISH (state) {\n    LevelStorage.saveCompletedLevel(state.levelId)\n    state.finish = true\n  }\n}","import { Module } from 'vuex'\nimport { RootState } from '@/store/types'\nimport { LevelState } from '@/store/level/types'\nimport { mutations } from '@/store/level/mutations'\n\nconst state: LevelState = {\n  levelId: 0,\n  play: false,\n  loading: true,\n  dateLastUsedControllers: 0,\n  isUsedControllers: false,\n  isMapOpen: false,\n  isMenuOpen: false,\n  playerPosition: {x: 0, y: 0, z: 0},\n  playerRotate: {x: 0, y: 0},\n  lowerFloorPosition: {x: 0, y: 0, z: 0},\n  lowerFloorSize: {width: 0, height: 0},\n  keys: [],\n  keysActiveCount: 0,\n  batteryCharge: 0,\n  finish: false\n}\n\nconst getters = {\n  batteryCharge: (state: LevelState) => state.batteryCharge,\n  finish: (state: LevelState) => state.finish\n}\n\nexport const level: Module<LevelState, RootState> = {\n  state,\n  mutations,\n  getters\n}","import { MutationTree } from 'vuex'\nimport { Player, Players } from '@/store/players/types'\n\nconst getPlayerById = (state: Players, playerId: string) => {\n  return state.list.find(player => player.id == playerId) as Player\n}\n\nconst playerExample: Player = {\n  id: 'new',\n  character: '',\n  items: [],\n  properties: [],\n  move: {\n    forward: {\n      front: false,\n      back: false,\n      left: false,\n      right: false,\n      isMoving: false,\n      sprint: false\n    },\n    rotate: { x: 0, y: 0 },\n    jump: false,\n    isFly: false,\n    isFlyUp: false,\n    syncData: {\n      position: { x: 0, y: 0, z: 0 },\n      rotation: { x: 0, y: 0 }\n    }\n  }\n}\n\nexport const mutations: MutationTree<Players> = {\n  ADD_PLAYER (state, payload) {\n    if (!getPlayerById(state, payload.id)) {\n      const newPlayer = JSON.parse(JSON.stringify(playerExample))\n      newPlayer.id = payload.id\n      newPlayer.character = 'BTLMN_Lemon.gltf'\n      newPlayer.items = payload.items\n      newPlayer.properties = payload.properties\n  \n      state.list.push(newPlayer)\n    }\n  },\n  REMOVE_PLAYER (state, playerId) {\n    state.list.splice(state.list.findIndex(player => player.id == playerId), 1)\n  },\n  FLY_ENABLED (state, playerId) {\n    getPlayerById(state, playerId).move.isFly = true\n  },\n  FLY_UP_ENABLED (state, playerId) {\n    getPlayerById(state, playerId).move.isFlyUp = true\n  },\n  FLY_UP_DISABLED (state, playerId) {\n    getPlayerById(state, playerId).move.isFlyUp = false\n  },\n  FLY_DISABLED (state, playerId) {\n    getPlayerById(state, playerId).move.isFly = false\n  },\n  SET_FORWARD (state, payload) {\n    getPlayerById(state, payload.playerId).move.forward = {...payload.forward}\n  },\n  UPDATE_ROTATE (state, payload) {\n    getPlayerById(state, payload.playerId).move.rotate = payload.rotate\n  },\n  UPDATE_ROTATION (state, payload) {\n    const playerState = getPlayerById(state, payload.playerId)\n    playerState.move.syncData.rotation.x = payload.x\n    playerState.move.syncData.rotation.y = payload.y\n  },\n  UPDATE_POSITION (state, payload) {\n    getPlayerById(state, payload.playerId).move.syncData.position = payload.position\n  },\n  JUMP_DISABLED (state, playerId) {\n    getPlayerById(state, playerId).move.jump = false\n  },\n  JUMP_ENABLED (state, playerId) {\n    getPlayerById(state, playerId).move.jump = true\n  },\n  JUMP_SET (state, payload) {\n    getPlayerById(state, payload.playerId).move.jump = payload.jump\n  },\n  SYNC_PLAYER (state, player) {\n    const statePlayer = getPlayerById(state, player.id)\n    \n    if (statePlayer) {\n      statePlayer.move = player.move\n    }\n  }\n}\n\n","import { Module } from 'vuex'\nimport { RootState } from '@/store/types'\nimport { mutations } from '@/store/players/mutations'\nimport { Players } from '@/store/players/types'\n\nconst state: Players = {\n  list: []\n}\n\nconst getters = {\n  getPlayerById: (state: Players) => (id: string) => {\n    return state.list.find(player => player.id === id)\n  }\n}\n\nexport const players: Module<Players, RootState> = {\n  state,\n  mutations,\n  getters\n}\n","import Vuex, { StoreOptions } from 'vuex'\nimport { RootState } from '@/store/types'\nimport { controllerMove } from '@/store/controller_move'\nimport { controllerRotate } from '@/store/controller_rotate'\nimport { settings } from '@/store/settings'\nimport { level } from '@/store/level'\nimport { players } from '@/store/players'\n\nconst store: StoreOptions<RootState> = {\n  strict: false,\n  state: {\n    player: {\n      id: ''\n    },\n    levels: [\n      {id: 1, finish: false},\n      {id: 2, finish: false},\n      {id: 3, finish: false},\n    ],\n  },\n  mutations: {\n    SET_SELF_PLAYER_ID (state, playerId) {\n      state.player.id = playerId\n    },\n  },\n  modules: {\n    players,\n    controllerMove,\n    controllerRotate,\n    level,\n    settings\n  }\n}\n\nexport default new Vuex.Store<RootState>(store)","import {\n  CubeTexture,\n  GlowLayer,\n  Matrix,\n  Tools,\n  Scene,\n  Color3,\n  DirectionalLight,\n  ShadowGenerator\n} from '@babylonjs/core'\n\nexport default class Environment {\n  shadowGenerator: ShadowGenerator | null\n  scene: Scene\n\n  constructor () {\n    this.scene = globalThis.scene\n    this.shadowGenerator = null\n  }\n\n  setupHDR () {\n    const url = process.env.VUE_APP_RESOURCES_PATH  + 'graphics/textures/environment.env'\n    const hdrTexture = CubeTexture.CreateFromPrefilteredData(url, this.scene)\n    const hdrRotation = 0\n    \n    hdrTexture.setReflectionTextureMatrix(\n      Matrix.RotationY(\n        Tools.ToRadians(hdrRotation)\n      )\n    )\n\n    hdrTexture.gammaSpace = false\n    this.scene.environmentTexture = hdrTexture\n  }\n\n  setupGlow () {\n    const gl = new GlowLayer('glow', this.scene, {\n      mainTextureFixedSize: 1054,\n      blurKernelSize: 70\n    })\n    \n    gl.intensity = 0.4\n  }\n  \n  setupFog () {\n    this.scene.fogColor = new Color3(0, 0, 0)\n    this.scene.fogDensity = 0.04\n    this.scene.fogMode = Scene.FOGMODE_EXP\n  }\n  \n  setupLightAndShadow () {\n    const light = this.scene.getLightById('MainDirectionLight') as DirectionalLight\n    \n    if (!light) {\n      console.info('Add a light with the ID MainDirectionLight to display the shadow')\n      return\n    }\n    \n    this.shadowGenerator = new ShadowGenerator(2064, light)\n  }\n}\n","import {\n  Mesh,\n  Scene,\n  Camera,\n  Engine,\n  Vector3,\n  Matrix,\n  AbstractMesh,\n  RollingAverage, MeshBuilder, StandardMaterial, Color3,\n} from '@babylonjs/core'\nimport axios from 'axios'\n\nexport const Helpers = {\n  getRandomInt (min: number, max: number) {\n    min = Math.ceil(min)\n    max = Math.floor(max)\n    return Math.floor(Math.random() * (max - min + 1)) + min\n  },\n\n  get2DCoordinatesFromMesh (mesh: Mesh, camera: Camera, scene: Scene, engine: Engine) {\n    const pos = Vector3.Project(\n      mesh.getAbsolutePosition(),\n      Matrix.IdentityReadOnly,\n      scene.getTransformMatrix(),\n      camera.viewport.toGlobal(\n        engine.getRenderWidth(),\n        engine.getRenderHeight(),\n      ),\n    )\n\n    return {\n      top: pos.y,\n      left: pos.x\n    }\n  },\n\n  getIsSuffix (mesh: AbstractMesh, suffix: string) {\n    const nameArray = mesh.id.split('_')\n\n    if (nameArray.length) {\n      if (nameArray.find(item => item === suffix)) {\n        return true\n      }\n    }\n\n    return false\n  },\n\n  IsName (text: string, find: string, partly = false) {\n    if (text === find) {\n      return true\n    }\n\n    if (partly) {\n      return text.search(find) !== -1\n    }\n\n    return false\n  },\n\n  getMeshesByName (name: string, partly = false) {\n    return globalThis.scene.meshes.filter(mesh => Helpers.IsName(mesh.name, name, partly)) as Array<Mesh>\n  },\n\n  getMeshByName (scene: Scene, name: string, partly = false) {\n    return scene.meshes.find(mesh => Helpers.IsName(mesh.name, name, partly)) as Mesh\n  },\n\n  getTime () {\n    const date = new Date()\n    return date.getTime()\n  },\n\n  getAverage () {\n    const rollingAverage = new RollingAverage(60)\n    rollingAverage.add(scene.getAnimationRatio())\n    return rollingAverage.average\n  },\n\n  numberFixed (number: string | number, length = 10): number {\n    return Number(Number(number).toFixed(length))\n  },\n\n  getNameId (meshId: string) {\n    return meshId.split('.')[1]\n  },\n  \n  drawEllipsoid (mesh: Mesh) {\n    const scene = mesh.getScene()\n    const ellipsoid = MeshBuilder.CreateSphere('debug', { diameterX: (mesh.ellipsoid.x * 2), diameterY: (mesh.ellipsoid.y * 2), diameterZ: (mesh.ellipsoid.z * 2), segments: 16 }, scene)\n    \n    scene.onBeforeRenderObservable.add(() => {\n      ellipsoid.position.copyFrom(mesh.position)\n      ellipsoid.position.addInPlace(mesh.ellipsoidOffset)\n    })\n    \n    const debugmat = new StandardMaterial('debugmat', mesh.getScene())\n    debugmat.diffuseColor = new Color3(0, 1, 0)\n    debugmat.wireframe = true\n    ellipsoid.material = debugmat\n  },\n  isFile(url: string) {\n    if (url) {\n      const split = url.split('/')\n      if (split) {\n        const pop = split.pop()\n        if (pop) {\n          return pop.indexOf('.') > 0\n        }\n      }\n    }\n    \n    return false\n  },\n  async getFileTimestamp(filePath: string)\n  {\n    const arr = filePath.split(\"/\") // [ \"\", \"game\", \"resources\", \"graphics\", \"level_1\", \"map.babylon\" ]\n    const filePathLastFolder = arr[arr.length - 2] + \"/\" + arr[arr.length - 1] // \"level_1/map.babylon\"\n    \n    try {\n      const response = await axios.get(process.env.VUE_APP_RESOURCES_PATH + 'graphics/manifest.json')\n      const manifest = response.data\n      return manifest[filePathLastFolder]\n    } catch (error) {\n      console.error('Ошибка получения manifest.json:', error)\n      return filePath\n    }\n  }\n}","import {\n  Scene as BabylonScene, Engine,\n  SceneLoader,\n  SceneOptimizerOptions,\n  SceneOptimizer,\n  AbstractMesh\n} from '@babylonjs/core'\n\nimport '@babylonjs/core/Debug/debugLayer'\nimport '@babylonjs/inspector'\nimport store from \"@/store\";\nimport Environment from '@/models/scene/Environment'\nimport { Helpers } from '@/models/Helpers'\n\nexport default class Scene {\n    scene: BabylonScene\n    engine: Engine\n    store: any\n\n    constructor (engine: Engine) {\n        this.scene = new BabylonScene(engine)\n        globalThis.scene = this.scene\n        this.store = store\n        this.engine = engine\n    }\n\n    async load (callbackLoad: () => void) {\n      window.addEventListener('resize', () => {\n        this.engine.resize()\n      })\n  \n      SceneLoader.CleanBoneMatrixWeights = true\n      SceneLoader.ShowLoadingScreen = false\n  \n      const fileName = 'map.babylon'\n      const filePath = process.env.VUE_APP_RESOURCES_PATH + 'graphics/level_' + this.store.state.level.levelId + '/'\n      \n      const timestamp = await Helpers.getFileTimestamp(filePath  + fileName)\n      const filePathWithTimestamp = fileName + '?timestamp=' + timestamp\n  \n      SceneLoader.Append(filePath, filePathWithTimestamp, this.scene, (scene) => {\n        try {\n          callbackLoad()\n        } catch (e) {\n          console.error(e)\n        }\n    \n        this.optimize(scene)\n    \n        this.engine.runRenderLoop(() => {\n          this.scene.render()\n        })\n    \n      }, null, (scene, message, error) => {\n        console.log(error, message)\n      })\n    }\n\n    private optimize (scene: BabylonScene) {\n      scene.autoClearDepthAndStencil = false\n\n      const meshNotAnimate = scene.getMeshesByTags('notAnimate')\n\n      meshNotAnimate.forEach(mesh => {\n        mesh.freezeWorldMatrix()\n        mesh.doNotSyncBoundingInfo = true\n        mesh.cullingStrategy = AbstractMesh.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY\n      })\n\n      const options = new SceneOptimizerOptions(60, 1000)\n      const optimizer = new SceneOptimizer(scene, options)\n      optimizer.start()\n    }\n    \n    setEnvironment()\n    {\n      const environment = new Environment()\n      environment.setupHDR()\n      environment.setupGlow()\n      environment.setupLightAndShadow()\n    }\n}\n","import { Store } from 'vuex'\nimport { Sound } from '@babylonjs/core'\n\nexport default class SoundMain {\n  path: string\n\n  constructor () {\n    this.path = process.env.VUE_APP_RESOURCES_PATH + 'audio'\n  }\n\n  subscribe(store: Store<any>, sound: Sound, type: string) {\n    store.subscribe(mutation => {\n      if (mutation.type == 'SET_SETTING_FIELD_VALUE') {\n        if (mutation.payload.name == type) {\n          if (store.getters.getSettingsValueByName(type)) {\n            if (sound && !sound.isPlaying) {\n              sound.play()\n            }\n          } else {\n            if (sound && sound.isPlaying) {\n              sound.stop()\n            }\n          }\n        }\n      }\n    })\n  }\n}","import { Sound } from '@babylonjs/core'\nimport store from '@/store'\nimport SoundMain from '@/models/sounds/SoundMain'\nimport { Store } from 'vuex'\n\nexport default class Music extends SoundMain {\n  filePath: string\n  sound: Sound\n  store: Store<any>\n  \n  constructor () {\n    super()\n    this.store = store\n    this.filePath = this.path + '/level_' + this.store.state.level.levelId + '/music.wav'\n\n    this.sound = new Sound('Music', this.filePath, globalThis.scene, () => {\n      this.subscribe(store, this.sound, 'music')\n    }, {\n      loop: true,\n      autoplay: store.getters.getSettingsValueByName('music'),\n      volume: 0.5\n    })\n  }\n}\n\n","import { Sound } from '@babylonjs/core'\nimport store from '@/store'\nimport SoundMain from '@/models/sounds/SoundMain'\n\nexport default class Background extends SoundMain {\n  filePath: string\n  sound: Sound\n\n  constructor () {\n    super()\n    this.filePath = this.path + '/' + 'cosmos.wav'\n\n    this.sound = new Sound('Cosmos', this.filePath, globalThis.scene, () => {\n      this.subscribe(store, this.sound, 'sound')\n    }, {\n      loop: true,\n      autoplay: store.getters.getSettingsValueByName('sound')\n    })\n  }\n}\n\n","import { Engine } from '@babylonjs/core'\nimport Music from '@/models/sounds/Music'\nimport Background from '@/models/sounds/Background'\nimport store from '@/store'\n\nexport default class Audio {\n  music: any\n  isLevelRun: boolean\n  pathAudio: string\n\n  constructor () {\n    this.isLevelRun = false\n    this.pathAudio = 'resources/audio'\n    const audioEngine = Engine.audioEngine\n    if (audioEngine) {\n\n      audioEngine.useCustomUnlockedButton = true\n\n      store.subscribe(mutation => {\n        if (mutation.type == 'SET_PLAY' && !this.isLevelRun) {\n          const context = audioEngine.audioContext\n\n          if (context) {\n            context.resume()\n          }\n\n          this.isLevelRun = true\n          audioEngine.unlock()\n\n          new Music()\n          new Background()\n        }\n      })\n    }\n\n  }\n}","import store from \"@/store\";\nimport { isEqual } from 'lodash'\n\nexport default class SubscribeStore {\n  playerId: string\n  store: any\n  unsubscribes: Array<any>\n\n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.store = store\n    this.unsubscribes = []\n    \n    this.dispose()\n  }\n  \n  move (callbackEvent: any) {\n    let oldMove = {}\n    \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n      \n      const stateMove = state.move\n      const equal = isEqual(oldMove, stateMove)\n      \n      if (!equal) {\n        oldMove = { ...stateMove }\n        callbackEvent(stateMove)\n      }\n    })\n    \n    this.unsubscribes.push({\n      name: 'move',\n      unsubscribe\n    })\n  }\n\n  forward (callbackEvent: any) {\n    let oldForward = {\n      left: false,\n      right: false,\n      front: false,\n      back: false,\n      isMoving: false\n    }\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n      \n      const stateForward = state.move.forward\n      const equal = isEqual(oldForward, stateForward)\n\n      if (!equal) {\n        oldForward = { ...stateForward }\n        callbackEvent(stateForward)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'forward',\n      unsubscribe\n    })\n  }\n\n  jump (callbackEvent: any) {\n    let oldStateJump = false\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n      \n      const stateMove = state.move\n\n      if (oldStateJump !== stateMove.jump) {\n        oldStateJump = stateMove.jump\n  \n        callbackEvent(stateMove.jump)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'jump',\n      unsubscribe\n    })\n  }\n\n  fly (callbackEvent: any) {\n    let oldState = true\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n      \n      const stateMove = state.move\n\n      if (oldState !== stateMove.isFly) {\n        oldState = stateMove.isFly\n        \n        if (stateMove.isFly) {\n          callbackEvent(state)\n        }\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'fly',\n      unsubscribe\n    })\n  }\n\n  flyEnd (callbackEvent: any) {\n    let oldState = true\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n      \n      const stateMove = state.move\n\n      if (oldState !== stateMove.isFly) {\n        oldState = stateMove.isFly\n        \n        if (!stateMove.isFly) {\n          callbackEvent(state)\n        }\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'flyEnd',\n      unsubscribe\n    })\n  }\n\n  rotate (callbackEvent: any) {\n    const oldStateRotate = {\n      rotateX: 0,\n      rotateY: 0\n    }\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n      \n      const stateMove = state.move\n\n      if (oldStateRotate.rotateX !== stateMove.rotate.x || oldStateRotate.rotateY !== stateMove.rotate.y) {\n        oldStateRotate.rotateX = stateMove.rotate.x\n        oldStateRotate.rotateY = stateMove.rotate.y\n        callbackEvent(stateMove.rotate.x, stateMove.rotate.y)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'rotate',\n      unsubscribe\n    })\n  }\n\n  position (callbackEvent: any) {\n    let oldStatePosition = {\n      x: 0,\n      y: 0,\n      z: 0\n    }\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n  \n      const stateMove = state.move\n      const statePosition = stateMove.syncData.position\n\n      if (!isEqual(statePosition, oldStatePosition)) {\n        oldStatePosition = { ...statePosition }\n        callbackEvent(statePosition)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'position',\n      unsubscribe\n    })\n  }\n\n  rotation (callbackEvent: any) {\n    let oldStateRotation = {\n      x: 0,\n      y: 0\n    }\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n  \n      const stateMove = state.move\n      const stateRotation = stateMove.syncData.rotation\n\n      if (!isEqual(stateRotation, oldStateRotation)) {\n        oldStateRotation = { ...stateRotation }\n        callbackEvent(stateRotation)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'rotation',\n      unsubscribe\n    })\n  }\n  \n  syncData (callbackEvent: any) {\n    let oldSyncData = {}\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n  \n      const stateMove = state.move\n      const syncData = stateMove.syncData\n    \n      if (!isEqual(syncData, oldSyncData)) {\n        oldSyncData = {...syncData}\n        callbackEvent(syncData)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'syncData',\n      unsubscribe\n    })\n  }\n  \n  syncPlayer (callbackEvent: any) {\n    let oldPlayer = {}\n  \n    const unsubscribe = this.store.subscribe(() => {\n      const state = this.getPlayerById()\n      if (!state) {\n        return null\n      }\n    \n      if (!isEqual(state, oldPlayer)) {\n        oldPlayer = JSON.parse(JSON.stringify(state))\n        callbackEvent(state)\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'syncPlayer',\n      unsubscribe\n    })\n  }\n\n  getPlayerById () {\n    const state = store.getters.getPlayerById(this.playerId)\n    \n    if (!state) {\n      console.info('SubscribeStore: not found state by playerId: ' + this.playerId)\n      this.unsubscribeAll()\n    }\n    \n    return state\n  }\n  \n  private dispose()\n  {\n    const unsubscribe = this.store.subscribe(() => {\n      const player = store.getters.getPlayerById(this.playerId)\n      \n      if (!player) {\n        this.unsubscribeAll()\n      }\n    })\n  \n    this.unsubscribes.push({\n      name: 'dispose',\n      unsubscribe\n    })\n  }\n  \n  unsubscribeAll() {\n    this.unsubscribes.forEach((item) => {\n      item.unsubscribe()\n    })\n  }\n}\n","import * as Colyseus from 'colyseus.js'\nimport store from '@/store'\nimport SubscribeStore from '@/models/сommon/SubscribeStore'\n\nexport default class ServerClient {\n  sessionId: string | null\n  playerId?: string\n  room?: Colyseus.Room | null\n  subscribeStore?: SubscribeStore\n  \n  constructor (playerId: string) {\n    this.sessionId = null\n    this.room = null\n    this.playerId = playerId\n  }\n  \n  init () {\n    const client = new Colyseus.Client(process.env.VUE_APP_SERVER_DOMAIN)\n    \n    client.joinOrCreate('my_room').then(room => {\n      this.room = room\n      this.room.state.players.onAdd = (player: any) => {\n        store.commit('ADD_PLAYER', player)\n      }\n  \n      this.room.state.players.onRemove = (player: any) => {\n        store.commit('REMOVE_PLAYER', player.id)\n      }\n      \n      console.info('Joined to server room')\n      \n      this.room.send('createPlayer', { playerId: this.playerId })\n      \n      this.room.onMessage('syncPlayer', (message) => {\n        store.commit('SYNC_PLAYER', message.player)\n      })\n      \n      this.room.onMessage('errorIdPlayer', (message) => {\n        if (message === 500) {\n          alert('A player with this ID will not find!')\n        }\n      })\n    })\n  }\n  \n  public syncPlayer () {\n    if (this.playerId && this.room && typeof this.room !== 'undefined') {\n      this.subscribeStore = new SubscribeStore(this.playerId)\n      \n      this.subscribeStore.syncPlayer((player: any) => {\n        this.room?.send('syncPlayer', { playerId: this.playerId, player })\n      })\n    }\n  }\n}","import { Settings } from '@/models/storage/Settings'\n\nexport default class DevMode {\n  constructor () {\n    if (Settings.getValueByName('dev_mode')) {\n      this.enabled()\n    }\n  }\n  \n  enabled () {\n    const globalRoot = document.getElementsByTagName('body')[0]\n    if (globalRoot) {\n      scene.debugLayer.show({overlay: true, globalRoot: globalRoot})\n    }\n  }\n}","import { MeshBuilder, Vector3, Tags, Observer, Nullable, Scene } from '@babylonjs/core'\n\nexport default class Body {\n  playerId: string\n  meshHeadId: string\n  meshFootId: string\n  observer: Nullable<Observer<Scene>>\n  \n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.meshHeadId = 'playerHead_' + playerId\n    this.meshFootId = 'playerFoot_' + playerId\n    this.observer = null\n    this.add()\n  }\n  \n  private add () {\n    const scene = globalThis.scene\n    const size = 0.5\n    const meshHead = MeshBuilder.CreateBox(this.meshHeadId, { size: size }, scene)\n    const meshFoot = MeshBuilder.CreateBox(this.meshFootId, { size: size }, scene)\n  \n    Tags.AddTagsTo(meshFoot, 'foot')\n    \n    meshFoot.ellipsoid = new Vector3(size / 2, size, size / 2)\n    meshFoot.ellipsoidOffset = new Vector3(0, 0.3, 0)\n\n    meshHead.rotation.x = 0\n    meshHead.rotation.z = 0\n    \n    meshFoot.position.y = 10\n  \n    const meshCoordinator = scene.getMeshById('player')\n    \n    if (meshCoordinator) {\n      meshFoot.position.z = meshCoordinator.position.z\n      meshFoot.position.x = meshCoordinator.position.x\n    }\n\n    meshFoot.rotation = new Vector3()\n\n    meshHead.visibility = 0\n    meshFoot.visibility = 0\n\n    meshHead.checkCollisions = false\n    meshFoot.checkCollisions = false\n\n    meshHead.isPickable = false\n    meshFoot.isPickable = false\n\n    meshHead.isPickable = false\n\n   this.observer = scene.onBeforeRenderObservable.add(() => {\n      meshHead.position.x = meshFoot.position.x\n      meshHead.position.y = meshFoot.position.y + 2\n      meshHead.position.z = meshFoot.position.z\n      meshHead.rotation.y = meshFoot.rotation.y\n    })\n  }\n  \n  dispose () {\n    if (this.observer !== null) {\n      scene.onBeforeRenderObservable.remove(this.observer)\n    }\n  }\n}\n","import { AbstractMesh, Scene, Tags } from '@babylonjs/core'\n\nexport default class Collisions {\n  listCollisions: AbstractMesh[]\n  listCollisionsFloor: AbstractMesh[]\n  scene: Scene\n\n  constructor () {\n    this.scene = globalThis.scene\n    this.listCollisions = []\n    this.listCollisionsFloor = []\n    \n    this.setCollisions()\n  }\n  \n  private setCollisions()\n  {\n    this.listCollisions = this.scene.meshes.filter(mesh => mesh.checkCollisions)\n    this.listCollisionsFloor = this.scene.getMeshesByTags('ground')\n    \n    this.listCollisions.forEach((mesh) => {\n      mesh.isVisible = false\n      mesh.isPickable = false\n    })\n  \n    this.scene.getMeshesByTags('visible_force').forEach((mesh) => {\n      mesh.isVisible = true\n    })\n  }\n  \n  private static checkCollisionList(mesh: AbstractMesh, list: Array<AbstractMesh>)\n  {\n    for (const keyMesh in list) {\n      const listMesh = list[keyMesh]\n      \n      if (listMesh !== mesh && mesh.intersectsMesh(listMesh, Tags.MatchesQuery(listMesh, 'precise'))) {\n        return listMesh\n      }\n    }\n  \n    return false\n  }\n  \n  checkCollisionFloor(mesh: AbstractMesh) {\n    return Collisions.checkCollisionList(mesh, this.listCollisionsFloor)\n  }\n}\n","import {\n  Mesh,\n  Vector3,\n  RollingAverage,\n  Scene,\n  AbstractMesh,\n  Animation,\n  SineEase,\n  EasingFunction,\n  Tools, Nullable, Observer\n} from '@babylonjs/core'\nimport Collisions from '../mehanics/Collisions'\nimport store from '@/store/index'\nimport { Forward } from '@/store/players/types'\nimport { Helpers } from '@/models/Helpers'\n\nconst DEFAULT_SPEED = 0.07\nconst SPRINT_SPEED = 0.12\nconst GRAVITY = 0.08\nconst JUMP_HEIGHT = 1.5\n\nexport default class Move {\n  meshHead: Mesh\n  meshFoot: Mesh\n  speed: number\n  scene: Scene\n  footIsCollision: AbstractMesh | boolean\n  jumpAnimation: Animation | boolean\n  animationJumpFrames: number\n  modelCollisions: Collisions\n  store: any\n  forward: Forward\n  fly: boolean\n  flyUp: boolean\n  playerId: string\n  flyModeTimerId: number\n  observerBefore?: Nullable<Observer<Scene>>\n  observerAfter?: Nullable<Observer<Scene>>\n  rollingAverage: RollingAverage\n  \n  constructor (playerId: string, scene: Scene) {\n    this.scene = scene\n    this.store = store\n    this.meshFoot = this.scene.getMeshById('playerFoot_' + playerId) as Mesh\n    this.meshHead = this.scene.getMeshById('playerHead_' + playerId) as Mesh\n    this.modelCollisions = new Collisions()\n    \n    this.fly = true\n    this.flyModeTimerId = 0\n    this.flyUp = false\n    this.playerId = playerId\n    this.animationJumpFrames = 55\n    this.footIsCollision = false\n    this.jumpAnimation = false\n    this.rollingAverage = new RollingAverage(60)\n    \n    this.forward = {\n      left: false,\n      right: false,\n      front: false,\n      back: false,\n      isMoving: false,\n      sprint: false\n    }\n    \n    this.speed = DEFAULT_SPEED\n    this.createJumpAnimation()\n    \n    this.observerBefore = this.scene.onBeforeRenderObservable.add(() => {\n      this.beforeRender()\n    })\n  \n    this.observerAfter = this.scene.onAfterRenderObservable.add(() => {\n      this.afterRender()\n    })\n  }\n  \n  private createJumpAnimation () {\n    this.jumpAnimation = new Animation('jump', 'position.y', 100,\n      Animation.ANIMATIONTYPE_FLOAT,\n      Animation.ANIMATIONLOOPMODE_CYCLE\n    )\n    \n    const easingFunction = new SineEase()\n    easingFunction.setEasingMode(EasingFunction.EASINGMODE_EASEOUT)\n    this.jumpAnimation.setEasingFunction(easingFunction)\n  }\n  \n  private setAverage () {\n    this.rollingAverage.add(this.scene.getAnimationRatio())\n  }\n  \n  private move () {\n    if (!this.forward.isMoving) {\n      return null\n    }\n\n    this.changeSpeed()\n    \n    const nextStep = Vector3.Zero()\n    const average = this.rollingAverage.average\n    \n    if (this.forward.front) {\n      nextStep.z = Helpers.numberFixed(average * this.speed)\n    }\n    \n    if (this.forward.back) {\n      nextStep.z = Helpers.numberFixed(average * -this.speed)\n    }\n    \n    if (this.forward.left) {\n      nextStep.x = Helpers.numberFixed( average * -this.speed)\n    }\n    \n    if (this.forward.right) {\n      nextStep.x = Helpers.numberFixed(average * this.speed)\n    }\n    \n    this.setNewPosition(nextStep)\n  }\n  \n  private gravity () {\n    if (!this.footIsCollision) {\n      const nextStep = Vector3.Zero()\n      \n      nextStep.y = Helpers.numberFixed(this.rollingAverage.average * -GRAVITY, 4)\n      this.setNewPosition(nextStep)\n      \n      if (!this.fly && !this.flyModeTimerId) {\n        //Маленькие полеты не считаем за полет\n        this.flyModeTimerId = setTimeout(() => {\n          this.fly = true\n        }, 100)\n      }\n    } else {\n      clearTimeout(this.flyModeTimerId)\n      this.flyModeTimerId = 0\n      \n      if (this.fly) {\n        this.fly = false\n      }\n    }\n  }\n  \n  jump () {\n    if (typeof this.jumpAnimation !== 'object') {\n      console.error('Jump not set animation')\n      return\n    }\n    \n    if (this.footIsCollision) {\n      const keys = [\n        { frame: 0, value: this.meshFoot.position.y },\n        { frame: this.animationJumpFrames, value: this.meshFoot.position.y + JUMP_HEIGHT }\n      ]\n      \n      this.jumpAnimation.setKeys(keys)\n      this.meshFoot.animations = [this.jumpAnimation]\n      this.flyUp = true\n      this.scene.beginDirectAnimation(\n        this.meshFoot,\n        [this.jumpAnimation],\n        0,\n        this.animationJumpFrames,\n        false,\n        1.8,\n        () => {\n          this.flyUp = false\n        })\n    }\n  }\n  \n  private setNewPosition (nextStep: Vector3) {\n    const matrix = this.meshFoot.getWorldMatrix()\n    const vector = Vector3.TransformNormal(nextStep, matrix)\n    this.meshFoot.moveWithCollisions(vector)\n  }\n  \n  rotate (rotateX: number, rotateY: number) {\n    this.meshHead.rotation.x += rotateX\n    this.meshFoot.rotation.y += rotateY\n    \n    if (this.meshHead.rotation.x > Tools.ToRadians(90)) {\n      this.meshHead.rotation.x = Tools.ToRadians(90)\n    }\n    \n    if (this.meshHead.rotation.x < -Tools.ToRadians(45)) {\n      this.meshHead.rotation.x = -Tools.ToRadians(45)\n    }\n  }\n  \n  private changeSpeed () {\n    this.speed = this.forward.sprint ? SPRINT_SPEED : DEFAULT_SPEED\n  }\n  \n  private beforeRender () {\n    this.setAverage()\n    this.footIsCollision = this.modelCollisions.checkCollisionFloor(this.meshFoot)\n    this.move()\n  }\n  \n  private afterRender () {\n    this.footIsCollision = this.modelCollisions.checkCollisionFloor(this.meshFoot)\n    this.gravity()\n  }\n  \n  dispose () {\n    if (this.observerBefore) {\n      this.scene.onBeforeRenderObservable.remove(this.observerBefore)\n    }\n  \n    if (this.observerAfter) {\n      this.scene.onBeforeRenderObservable.remove(this.observerAfter)\n    }\n  }\n}\n","import MoveCommon from '../сommon/Move'\nimport { Scene } from '@babylonjs/core'\nimport { isEqual } from 'lodash'\n\nexport default class Move extends MoveCommon {\n  constructor (playerId: string, scene: Scene) {\n    super(playerId, scene)\n\n    this.updatePositionToState()\n    this.updateRotationToState()\n    this.updateFly()\n  }\n\n  private updatePositionToState () {\n    let oldPosition = {\n      x: this.meshFoot.position.x,\n      y: this.meshFoot.position.y,\n      z: this.meshFoot.position.z\n    }\n    \n    setInterval(() => {\n      const position = {\n        x: this.meshFoot.position.x,\n        y: this.meshFoot.position.y,\n        z: this.meshFoot.position.z\n      }\n      \n      if (!isEqual(oldPosition, position)) {\n        this.store.commit('UPDATE_POSITION',  { playerId: this.playerId, position })\n        oldPosition = { ...position }\n      }\n     \n    }, 100)\n  }\n\n  private updateRotationToState () {\n    let oldRotation = {x: this.meshFoot.rotation.x, y: this.meshFoot.rotation.y}\n    \n    setInterval(() => {\n      const rotation = {x: this.meshFoot.rotation.x, y: this.meshFoot.rotation.y}\n      \n      if (!isEqual(rotation, oldRotation)) {\n        const data = { playerId: this.playerId, x: rotation.x, y: rotation.y }\n        this.store.commit('UPDATE_ROTATION', data)\n        oldRotation = { ...rotation }\n      }\n      \n    }, 100)\n  }\n\n  private updateFly () {\n    let oldFly = false\n    let oldFlyUp = false\n\n    this.scene.onBeforeRenderObservable.add(() => {\n      if (oldFly !== this.fly) {\n        if (this.fly) {\n          this.store.commit('FLY_ENABLED', this.playerId)\n        } else {\n          this.store.commit('FLY_DISABLED', this.playerId)\n          this.store.commit('JUMP_DISABLED', this.playerId)\n        }\n\n        oldFly = this.fly\n      }\n\n      if (oldFlyUp !== this.flyUp) {\n        if (this.flyUp) {\n          this.store.commit('FLY_UP_ENABLED', this.playerId)\n        } else {\n          this.store.commit('FLY_UP_DISABLED', this.playerId)\n        }\n\n        oldFlyUp = this.flyUp\n      }\n    })\n  }\n}\n","import { Scene, KeyboardEventTypes } from '@babylonjs/core'\nimport Move from './Move'\nimport store from '@/store'\nimport { isEqual } from 'lodash'\n\nexport default class Controller {\n  sensitiveMouse: number\n  mouseIsCaptured: boolean | Element\n  store: any\n  scene: Scene\n  playerId: string\n  move: Move\n  \n  constructor () {\n    this.sensitiveMouse = 0.002\n    this.mouseIsCaptured = false\n    this.scene = globalThis.scene\n    this.store = store\n    this.playerId = store.state.player.id\n    this.move = new Move(this.playerId, scene)\n    \n    this.mouseEvent()\n    \n    this.scene.onKeyboardObservable.add(event => {\n      this.keyEvent(event)\n    })\n  }\n  \n  private keyEvent (e: any) {\n    const state = store.getters.getPlayerById(this.playerId)\n    const stateMove = state.move\n    const eventCode = e.event.code\n    const eventType = e.type\n    let jump = false\n    \n    if (KeyboardEventTypes.KEYDOWN === eventType) {\n      if (eventCode === 'KeyW') {\n        this.move.forward.front = true\n      }\n      \n      if (eventCode === 'KeyS') {\n        this.move.forward.back = true\n      }\n      \n      if (eventCode === 'KeyA') {\n        this.move.forward.left = true\n      }\n      \n      if (eventCode === 'KeyD') {\n        this.move.forward.right = true\n      }\n      \n      if (eventCode === 'Space') {\n        jump = true\n      }\n\n      if (eventCode === 'ShiftLeft') {\n        this.move.forward.sprint = true\n      }\n    }\n    \n    if (KeyboardEventTypes.KEYUP === eventType) {\n      if (eventCode === 'KeyW') {\n        this.move.forward.front = false\n      }\n      \n      if (eventCode === 'KeyS') {\n        this.move.forward.back = false\n      }\n      \n      if (eventCode === 'KeyA') {\n        this.move.forward.left = false\n      }\n      \n      if (eventCode === 'KeyD') {\n        this.move.forward.right = false\n      }\n      \n      if (eventCode === 'Space') {\n        this.store.commit('JUMP_DISABLED', this.playerId)\n      }\n\n      if (eventCode === 'ShiftLeft') {\n        this.move.forward.sprint = false\n      }\n    }\n    \n    this.move.forward.isMoving = !(\n      !this.move.forward.left &&\n      !this.move.forward.right &&\n      !this.move.forward.back &&\n      !this.move.forward.front\n    )\n    \n    const equal = isEqual(this.move.forward, stateMove.forward)\n    \n    if (!equal) {\n      this.store.commit('SET_FORWARD', { playerId: this.playerId, forward: { ...this.move.forward } })\n    }\n    \n    if (jump && !this.move.fly) {\n      this.move.jump()\n      this.store.commit('JUMP_ENABLED', this.playerId)\n    }\n  }\n  \n  private mouseEvent () {\n    const elementContent = document.getElementById('level') as HTMLElement\n    \n    elementContent.addEventListener('click', (e) => {\n      const checkFocusAvailable = e.composedPath().find((item) => {\n        const itemChecked = item as HTMLElement\n        if(itemChecked.tagName !== undefined) {\n          return itemChecked.classList.contains('no_focus_game')\n        }\n        \n        return false\n      })\n      \n      if (!checkFocusAvailable) {\n        this.mouseIsCaptured = true\n        const canvas = document.getElementById('canvas')\n        \n        if (canvas) {\n          canvas.requestPointerLock()\n        }\n      }\n      \n    })\n    \n    const pointerlockchange = () => {\n      this.mouseIsCaptured = document.pointerLockElement || false\n    }\n    \n    document.addEventListener('pointerlockchange', pointerlockchange, false)\n    \n    window.addEventListener('pointermove', (e) => {\n      if (this.mouseIsCaptured) {\n        const rotateX = e.movementY * this.sensitiveMouse\n        const rotateY = e.movementX * this.sensitiveMouse\n        \n        this.move.rotate(rotateX, rotateY)\n        this.store.commit('UPDATE_ROTATE', { playerId: this.playerId, rotate: { x: rotateX, y: rotateY } })\n      }\n    })\n  }\n}\n","import { AnimationGroup, Scene } from '@babylonjs/core'\nimport { AnimationGroupInterface } from './AnimationGroupInterface'\n\nexport default class Idle implements AnimationGroupInterface {\n  playerId: string\n  animation: AnimationGroup | null\n  weight: number\n  autoPlayLoop: boolean\n  scene: Scene\n\n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.weight = 1\n    this.autoPlayLoop = true\n    this.scene = globalThis.scene\n    this.animation = this.scene.getAnimationGroupByName('Idle_' + playerId)\n\n    this.setAnimations()\n  }\n  \n  setAnimations () {\n    if (!this.animation) {\n      console.error('Not find Idle animation')\n      return\n    }\n\n    this.animation.name = 'Idle_' + this.playerId\n    this.animation.setWeightForAllAnimatables(this.weight)\n    this.animation.play(true)\n  }\n}\n","import { AnimationGroup, Scene } from '@babylonjs/core'\nimport { AnimationGroupInterface } from './AnimationGroupInterface'\n\nexport default class Run implements AnimationGroupInterface {\n  animation: AnimationGroup | null\n  playerId: string\n  weight: number\n  autoPlayLoop: boolean\n  scene: Scene\n  \n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.weight = 0\n    this.autoPlayLoop = true\n    this.scene = globalThis.scene\n    this.animation = this.scene.getAnimationGroupByName('Run_' + playerId)\n    \n    this.setAnimations()\n  }\n  \n  setAnimations () {\n    if (this.animation === null) {\n      console.error('Not find Run animation')\n      return\n    }\n    \n    this.animation.name = 'Run_' + this.playerId\n    this.animation.setWeightForAllAnimatables(this.weight)\n    this.animation.play(true)\n  }\n}\n","import { AnimationGroup, Scene } from '@babylonjs/core'\nimport { AnimationGroupInterface } from './AnimationGroupInterface'\n\nexport default class JumpMiddle implements AnimationGroupInterface {\n  animation: AnimationGroup | null\n  playerId: string\n  weight: number\n  autoPlayLoop: boolean\n  scene: Scene\n\n  //TODO: классы получились очень похожие, можно наследовать эти методы у общего класса\n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.weight = 0\n    this.autoPlayLoop = true\n    this.scene = globalThis.scene\n    this.animation = this.scene.getAnimationGroupByName('JumpMiddle_' + playerId)\n\n    this.setAnimations()\n  }\n\n  setAnimations () {\n    if (!this.animation) {\n      console.error('Not find JumpMiddle animation')\n      return\n    }\n\n    this.animation.name = 'JumpMiddle_' + this.playerId\n    this.animation.setWeightForAllAnimatables(this.weight)\n    this.animation.play(true)\n  }\n}\n","import { AnimationGroup, Scene } from '@babylonjs/core'\nimport { AnimationGroupInterface } from './AnimationGroupInterface'\n\nexport default class JumpFinish implements AnimationGroupInterface {\n  animation: AnimationGroup | null\n  playerId: string\n  weight: number\n  autoPlayLoop: boolean\n  scene: Scene\n\n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.weight = 0\n    this.autoPlayLoop = false\n    this.scene = globalThis.scene\n    this.animation = this.scene.getAnimationGroupByName('JumpFinish_' + playerId)\n\n    this.setAnimations()\n  }\n\n  setAnimations () {\n    if (!this.animation) {\n      console.error('Not find JumpFinish animation')\n      return\n    }\n    \n    this.animation.name = 'JumpFinish_' + this.playerId\n    this.animation.setWeightForAllAnimatables(this.weight)\n    this.animation.stop()\n  }\n}\n","import { AnimationGroup, Scene } from '@babylonjs/core'\nimport { AnimationGroupInterface } from './AnimationGroupInterface'\n\nexport default class Sprint implements AnimationGroupInterface {\n  animation: AnimationGroup | null\n  playerId: string\n  weight: number\n  autoPlayLoop: boolean\n  scene: Scene\n  \n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.weight = 0\n    this.autoPlayLoop = true\n    this.scene = globalThis.scene\n    this.animation = this.scene.getAnimationGroupByName('Sprint_' + playerId)\n    \n    this.setAnimations()\n  }\n  \n  setAnimations () {\n    if (this.animation === null) {\n      console.error('Not find Sprint animation')\n      return\n    }\n    \n    this.animation.name = 'Sprint_' + this.playerId\n    this.animation.setWeightForAllAnimatables(this.weight)\n    this.animation.play(true)\n  }\n}\n","import SubscribeStore from '../SubscribeStore'\nimport { Scalar, Scene, AnimationEvent } from '@babylonjs/core'\nimport { AnimationGroupInterface } from './animation_groups/AnimationGroupInterface'\nimport Idle from './animation_groups/Idle'\nimport Run from './animation_groups/Run'\nimport JumpMiddle from './animation_groups/JumpMiddle'\nimport JumpFinish from './animation_groups/JumpFinish'\nimport store from '@/store'\nimport { Move } from '@/store/players/types'\nimport Sprint from '@/models/сommon/character/animation_groups/Sprint'\n\nexport default class Animation {\n  playerId: string\n  animationGroupCurrent: AnimationGroupInterface | undefined\n  animationGroups: Array<AnimationGroupInterface>\n  store: any\n  scene: Scene\n  observableBeforeAnimation: any\n  subscribeStore?: SubscribeStore | null\n\n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.store = store\n    this.scene = globalThis.scene\n    this.animationGroups = []\n    this.animationGroupCurrent = undefined\n\n    this.setAnimationGroups()\n\n    this.observableBeforeAnimation = () => {\n      this.onBeforeAnimation()\n    }\n  }\n\n  private setAnimationGroups () {\n    const idle = new Idle(this.playerId)\n    this.pushAnimation(idle)\n    this.pushAnimation(new Run(this.playerId))\n    this.pushAnimation(new Sprint(this.playerId))\n    this.pushAnimation(new JumpMiddle(this.playerId))\n    this.pushAnimation(new JumpFinish(this.playerId))\n    \n    if (idle.animation) {\n      this.animationGroupCurrent = this.getAnimationByName('Idle_' + this.playerId)\n      this.subscribe()\n    }\n  }\n  \n  private pushAnimation (animation: AnimationGroupInterface) {\n    if (animation.animation) {\n      this.animationGroups.push(animation)\n    }\n  }\n\n  private getAnimationByName (name: string) {\n    return this.animationGroups.find(group => group.animation && group.animation.name.includes(name)) as AnimationGroupInterface\n  }\n\n  private subscribe () {\n    this.subscribeStore = new SubscribeStore(this.playerId)\n    const animationJumpMiddle = this.getAnimationByName('JumpMiddle_' + this.playerId)\n    const animationJumpFinish = this.getAnimationByName('JumpFinish_' + this.playerId)\n  \n    this.subscribeStore.move((move: Move) => {\n      if (!move.isFly && !move.jump) {\n        const animation = this.getAnimationByState()\n        if (animation) {\n          this.blending(animation)\n        }\n      }\n    })\n  \n    this.subscribeStore.fly(() => {\n      this.blending(animationJumpMiddle)\n    })\n  \n    if (animationJumpFinish && animationJumpFinish.animation) {\n      this.subscribeStore.flyEnd(() => {\n        this.blending(animationJumpFinish)\n        if (animationJumpFinish.animation) {\n          animationJumpFinish.animation.play()\n        }\n        \n      })\n  \n      const jumpFinishAnimation = animationJumpFinish.animation.targetedAnimations[0].animation\n  \n      const JumpFinishAnimationEvent = new AnimationEvent(25, () => {\n        const animation = this.getAnimationByState()\n        if (animation) {\n          this.blending(animation)\n        }\n      })\n  \n      jumpFinishAnimation.addEvent(JumpFinishAnimationEvent)\n    }\n  }\n  \n  private getAnimationByState() {\n    const statePlayer = store.getters.getPlayerById(this.playerId)\n    if (!statePlayer) {\n      return null\n    }\n    \n    const move = statePlayer.move\n    const animationIdle = this.getAnimationByName('Idle_' + this.playerId)\n    const animationRun = this.getAnimationByName('Run_' + this.playerId)\n    const animationSprint = this.getAnimationByName('Sprint_' + this.playerId)\n    \n    let animation = animationIdle\n  \n    if (move.forward.isMoving) {\n      animation = animationRun\n      if (move.forward.sprint) {\n        animation = animationSprint\n      }\n    }\n    \n    return animation\n  }\n\n  private blending (animationGroup: AnimationGroupInterface) {\n    if (this.animationGroupCurrent === animationGroup) {\n      return\n    }\n\n    this.scene.onBeforeAnimationsObservable.removeCallback(this.observableBeforeAnimation)\n\n    this.animationGroupCurrent = animationGroup\n    this.scene.onBeforeAnimationsObservable.add(this.observableBeforeAnimation)\n  }\n\n  private onBeforeAnimation () {\n    if (this.animationGroupCurrent && this.animationGroupCurrent.animation) {\n      const weight = Scalar.Clamp(this.animationGroupCurrent.weight + 0.08, 0, 1)\n      this.animationGroupCurrent.weight = Number(weight.toFixed(2))\n      this.animationGroupCurrent.animation.setWeightForAllAnimatables(this.animationGroupCurrent.weight)\n    }\n\n    this.animationGroups.forEach(animationGroup => {\n      if (animationGroup.animation &&animationGroup.weight !== 0 && animationGroup !== this.animationGroupCurrent) {\n        const weight = Scalar.Clamp(animationGroup.weight - 0.08, 0, 1)\n        animationGroup.weight = Number(weight.toFixed(2))\n        animationGroup.animation.setWeightForAllAnimatables(animationGroup.weight)\n\n        if (!animationGroup.autoPlayLoop && animationGroup.weight === 0) {\n          animationGroup.animation.stop()\n        }\n      }\n    })\n\n    if (this.animationGroupCurrent && this.animationGroupCurrent.weight === 1) {\n      this.scene.onBeforeAnimationsObservable.removeCallback(this.observableBeforeAnimation)\n    }\n  }\n  \n  dispose () {\n    this.scene.onBeforeAnimationsObservable.removeCallback(this.observableBeforeAnimation)\n  }\n}\n","import { AbstractMesh, Animation, CubicEase, EasingFunction, Scene, Tools } from '@babylonjs/core'\nimport SubscribeStore from '../SubscribeStore'\nimport store from '@/store'\n\nexport default class Rotation {\n  animation: Animation | undefined\n  scene: Scene\n  playerId: string\n  angle: number\n  meshCharacter: AbstractMesh\n  meshFoot: AbstractMesh\n  subscribeStore?: SubscribeStore\n  animatable: any\n  forwardAngle: number\n  isAnimated: boolean\n  syncIntervalId: any\n  \n  constructor (playerId: string) {\n    this.scene = globalThis.scene\n    this.playerId = playerId\n    this.angle = 0\n    // TODO: вывести в константы признак meshId\n    this.meshCharacter = this.scene.getMeshById('characterBody_' + this.playerId) as AbstractMesh\n    this.meshFoot = this.scene.getMeshById('playerFoot_' + this.playerId) as AbstractMesh\n    this.animation = undefined\n    this.animatable = undefined\n    this.isAnimated = false\n    this.forwardAngle = 0\n\n    this.setAnimation()\n    this.subscribe()\n  }\n\n  private setAnimation () {\n    this.animation = new Animation(\n      'rotateMesh',\n      'rotation.y',\n      20,\n      Animation.ANIMATIONTYPE_FLOAT\n    )\n\n    const easingFunction = new CubicEase()\n    easingFunction.setEasingMode(EasingFunction.EASINGMODE_EASEINOUT)\n    this.animation.setEasingFunction(easingFunction)\n  }\n\n  private setAngle () {\n    const state = store.getters.getPlayerById(this.playerId)\n    if (!state) {\n      return null\n    }\n    \n    const stateForward = state.move.forward\n\n    if (!stateForward.isMoving) {\n      return null\n    }\n\n    let angleNew = 0\n\n    if (stateForward.left) {\n      angleNew = 270\n    }\n\n    if (stateForward.right) {\n      angleNew = 90\n    }\n\n    if (stateForward.front) {\n      angleNew = 0\n\n      if (stateForward.left) {\n        angleNew = 305\n      }\n\n      if (stateForward.right) {\n        angleNew = 45\n      }\n    }\n\n    if (stateForward.back) {\n      angleNew = 180\n\n      if (stateForward.left) {\n        angleNew = 225\n      }\n\n      if (stateForward.right) {\n        angleNew = 135\n      }\n    }\n  \n    let radianNew = Tools.ToRadians(angleNew) + this.meshFoot.rotation.y\n    const radianOld = this.meshCharacter.rotation.y\n  \n    const angleOld = Tools.ToDegrees(radianOld)\n    angleNew = Tools.ToDegrees(radianNew)\n  \n    const diff = (angleNew - angleOld + 180) % 360 - 180\n    const shortWayAngle = diff < -180 ? diff + 360 : diff\n    radianNew = radianOld + Tools.ToRadians(shortWayAngle)\n    \n    const diffAngle = Math.abs(radianNew - radianOld) / (Math.PI / 180)\n  \n    if (diffAngle > 10) {\n      if (!this.isAnimated) {\n        this.stopAnimation()\n        this.play(radianNew, radianOld)\n        this.isAnimated = true\n      }\n    } else {\n      this.meshCharacter.rotation.y = radianNew\n    }\n  }\n\n  private play (radianNew: number, radianOld: number) {\n    if (this.animation === undefined) {\n      console.error('Not set animation rotate')\n      return\n    }\n\n    const keys = []\n    const frames = 10\n\n    keys.push({\n      frame: 0,\n      value: radianOld\n    })\n\n    keys.push({\n      frame: frames,\n      value: radianNew\n    })\n    \n    this.animation.setKeys(keys)\n    this.meshCharacter.animations = []\n    this.meshCharacter.animations.push(this.animation)\n  \n    this.isAnimated = true\n    this.animatable = this.scene.beginAnimation(this.meshCharacter, 0, frames, false, 1.15, () => {\n      this.isAnimated = false\n    })\n  }\n\n  private subscribe () {\n    this.subscribeStore = new SubscribeStore(this.playerId)\n  \n    this.subscribeStore.rotate(() => {\n      const stateForward = store.getters.getPlayerById(this.playerId).move.forward\n      \n      if (stateForward.isMoving) {\n        this.setAngle()\n      }\n    })\n  \n    this.subscribeStore.forward(() => {\n      this.setAngle()\n    })\n  \n    this.syncIntervalId = setInterval(() => {\n      this.setAngle()\n    }, 100)\n  }\n  \n  private stopAnimation()\n  {\n    if (this.animatable !== undefined) {\n      this.animatable.stop()\n    }\n  }\n  \n  dispose () {\n    this.subscribeStore?.unsubscribeAll()\n    \n    if (this.syncIntervalId) {\n      clearInterval(this.syncIntervalId)\n    }\n  }\n}\n","import { AssetContainer, SceneLoader } from '@babylonjs/core'\nimport { Helpers } from '@/models/Helpers'\n\nexport interface Container {\n  name: string;\n  container: AssetContainer;\n}\n\nexport default class ContainerManager {\n  static async getContainer (name: string, path: string) {\n    const filePath = path + name\n    \n    if (!Helpers.isFile(filePath)) {\n      console.info('Not found file: ' + filePath)\n      return null\n    }\n    \n    const container = globalThis.assetContainers.find(container => container.name === name)\n    \n    if (container) {\n      container.container.removeAllFromScene()\n      return container.container\n    }\n  \n    \n    const timestamp = await Helpers.getFileTimestamp(filePath)\n    \n    const newContainer = await SceneLoader.LoadAssetContainerAsync(\n      path,\n      name + '?timestamp=' + timestamp,\n      globalThis.scene)\n    \n    newContainer.removeAllFromScene()\n    \n    globalThis.assetContainers.push({\n      name: name,\n      container: newContainer\n    })\n    \n    return newContainer\n  }\n}","import { AbstractMesh, Scene } from '@babylonjs/core'\nimport { Helpers } from '@/models/Helpers'\nimport store from '@/store/index'\nimport { Item, Player } from '@/store/players/types'\nimport ContainerManager from '@/models/scene/ContainerManager'\n\nexport default class Items {\n  characterMeshes: AbstractMesh[]\n  placeholders: AbstractMesh[]\n  playerId: string\n  scene: Scene\n  \n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.scene = globalThis.scene\n    \n    const bodyMesh = scene.getMeshById('characterBody_' + this.playerId) as AbstractMesh\n    this.characterMeshes = bodyMesh.getChildMeshes()\n    this.placeholders = []\n    \n    this.setPlaceholders()\n    this.setItems()\n  }\n  \n  private setPlaceholders () {\n    this.characterMeshes.forEach(mesh => {\n      if (Helpers.IsName(mesh.id, 'placeholder', true)) {\n        mesh.isVisible = false\n        this.placeholders.push(mesh)\n      }\n    })\n  }\n  \n  private setItems () {\n    const storePlayer = store.getters.getPlayerById(this.playerId) as Player\n    \n    storePlayer.items.forEach((item: Item) => {\n      const placeholder = this.placeholders.find(placeholder => {\n        return Helpers.IsName(placeholder.id, item.type, true)\n      })\n      \n      if (!placeholder) {\n        return null\n      }\n      \n      const path = '/resources/graphics/items/'\n      const assetContainer = ContainerManager.getContainer(item.flavour + '.gltf', path)\n      \n      if (!assetContainer) {\n        console.error('Container item not load :' + item.flavour)\n        return null\n      }\n      \n      const rootId = '__root__item_' + item.flavour + '_' + this.playerId\n      \n      assetContainer.then((container) => {\n        if (!container) {\n          return null\n        }\n        \n        const resources = container.instantiateModelsToScene((sourceName) => {\n          if (sourceName == '__root__') {\n            return rootId\n          }\n          \n          return sourceName + '_' + this.playerId\n        })\n        \n        const rootMesh = resources.rootNodes[0]\n        rootMesh.id = rootMesh.name\n        \n        const meshes = rootMesh.getChildMeshes()\n        \n        meshes.forEach(mesh => {\n          mesh.id = mesh.name\n          mesh.isPickable = false\n          mesh.checkCollisions = false\n        })\n        \n        if (placeholder) {\n          rootMesh.parent = placeholder\n        }\n      })\n      \n    })\n  }\n}","import { AbstractMesh, DirectionalLight, Mesh, Nullable, Observer, Scene, ShadowGenerator, } from '@babylonjs/core'\nimport Animation from './Animation'\nimport Rotation from './Rotation'\nimport store from '@/store/index'\nimport ContainerManager from '@/models/scene/ContainerManager'\nimport { Helpers } from '@/models/Helpers'\nimport { Property } from '@/store/players/types'\nimport Items from '@/models/сommon/character/Items'\n\nexport default class Character {\n  scene: Scene\n  mesh: AbstractMesh | undefined\n  meshFoot: Mesh | undefined\n  meshBody?: AbstractMesh\n  meshRoot?: AbstractMesh\n  playerId: string\n  meshBodyId: string\n  meshRootId: string\n  observer?: Nullable<Observer<Scene>>\n  animation?: Animation\n  rotation?: Rotation\n  \n  constructor (playerId: string) {\n    this.scene = globalThis.scene\n    this.playerId = playerId\n    this.meshFoot = this.scene.getMeshById('playerFoot_' + playerId) as Mesh\n    this.meshBodyId = 'characterBody_' + this.playerId\n    this.meshRootId = 'characterRoot_' + this.playerId\n  }\n  \n  load (callback: any) {\n    const path = process.env.VUE_APP_RESOURCES_PATH + 'graphics/characters/'\n    // TODO: взять из store название gltf\n    const assetContainer = ContainerManager.getContainer('BTLMN_Lemon.gltf', path)\n    \n    assetContainer.then((container) => {\n      if (!container) {\n        throw 'Not found container ' + path + 'BTLMN_Lemon.gltf'\n      }\n      \n      container.instantiateModelsToScene((sourceName) => {\n        if (sourceName == 'Body') {\n          return this.meshBodyId\n        }\n  \n        if (sourceName == '__root__') {\n          return this.meshRootId\n        }\n        \n        return sourceName + '_' + this.playerId\n      })\n      \n      this.setMeshes()\n      this.setAnimations()\n      this.setItems()\n      this.setShadow()\n  \n      callback()\n  \n      this.observer = this.scene.onBeforeRenderObservable.add(() => {\n        this.beforeRender()\n      })\n    })\n  }\n  \n  setMeshes() {\n    const meshBody = this.scene.getMeshByName(this.meshBodyId)\n    const meshRoot = this.scene.getMeshByName(this.meshRootId)\n  \n    if (!meshBody) {\n      throw 'Not found mesh Player Body'\n    }\n  \n    if (!this.meshFoot) {\n      throw 'Not found mesh Player Foot'\n    }\n  \n    if (!meshRoot) {\n      throw 'Not found mesh Root'\n    }\n  \n    this.meshBody = meshBody\n    this.meshBody.rotationQuaternion = null\n    this.meshBody.resetLocalMatrix()\n    this.meshBody.isVisible = false\n    \n    this.meshRoot = meshRoot\n    this.meshRoot.id = this.meshRoot.name\n    this.meshRoot.rotationQuaternion = null\n    this.meshRoot.resetLocalMatrix()\n    \n    this.meshRoot.getChildMeshes().forEach(mesh => {\n      mesh.id = mesh.name\n      mesh.isPickable = false\n      mesh.checkCollisions = false\n    })\n  \n    this.disposeNotActiveProperties()\n  }\n  \n  filterProperties (mesh: AbstractMesh) {\n      const playerStore = store.getters.getPlayerById(this.playerId)\n      const properties = playerStore.properties\n      \n      if (!Helpers.IsName(mesh.name,'placeholder', true)) {\n        return properties.find((property: Property) => {\n          return Helpers.IsName(mesh.name, property.flavour, true)\n        })\n      }\n  \n    return true\n  }\n  \n  private disposeNotActiveProperties()\n  {\n    this.meshBody?.getChildMeshes().forEach((mesh) => {\n      if (!this.filterProperties(mesh)) {\n        mesh.dispose()\n      }\n    })\n  }\n  \n  private setItems()\n  {\n    new Items(this.playerId)\n  }\n  \n  private setAnimations () {\n    this.animation = new Animation(this.playerId)\n    this.rotation = new Rotation(this.playerId)\n  }\n  \n  private setShadow () {\n    const light = this.scene.getLightById('MainDirectionLight') as DirectionalLight\n    \n    if (light) {\n      const shadowGenerator = light.getShadowGenerator() as ShadowGenerator\n      \n      if (this.meshBody && shadowGenerator) {\n        shadowGenerator.addShadowCaster(this.meshBody)\n      }\n      \n    }\n  }\n  \n  private beforeRender () {\n    if (this.meshRoot && this.meshFoot) {\n      this.meshRoot.position.x = this.meshFoot.position.x\n      this.meshRoot.position.z = this.meshFoot.position.z\n      this.meshRoot.position.y = this.meshFoot.position.y - 0.24\n    }\n  }\n  \n  dispose () {\n    this.rotation?.dispose()\n    this.animation?.dispose()\n    \n    if (this.observer) {\n      this.scene.onBeforeRenderObservable.remove(this.observer)\n    }\n    \n    this.scene.getMeshById('characterRoot_' + this.playerId)?.dispose()\n  }\n}\n","import {\n  Vector3,\n  UniversalCamera,\n  Scene,\n  UniversalCamera as BabylonCamera,\n  Ray,\n  AbstractMesh, Axis, Scalar\n} from '@babylonjs/core'\nimport store from '@/store'\nimport { Player } from '@/store/players/types'\n\ninterface CalculateDistance {\n  distance: number;\n  amount: number;\n}\n\nconst MAX_DIST_CAMERA_Z = 4.5\nconst MAX_DIST_CAMERA_Y = 0.5\n\nexport default class Camera {\n  scene: Scene\n  babylonCamera: BabylonCamera\n  meshHead: AbstractMesh\n  actualDistance: number\n  calculateDistance: CalculateDistance\n  isMoving: boolean\n  \n  constructor () {\n    this.scene = globalThis.scene\n    this.babylonCamera = new UniversalCamera('playerCamera', Vector3.Zero(), this.scene)\n    this.meshHead = this.scene.getMeshById('playerHead_' + store.state.player.id) as AbstractMesh\n    this.actualDistance = -MAX_DIST_CAMERA_Z\n    this.isMoving = false\n    \n    this.calculateDistance = {\n      amount: 0,\n      distance: 0\n    }\n    \n    this.init()\n  }\n  \n  private init () {\n    this.babylonCamera.maxZ = 350\n    this.babylonCamera.minZ = 0.2\n    this.babylonCamera.name = 'player'\n    this.scene.activeCamera = this.babylonCamera\n    this.attachCamera()\n    this.setIsMovingInterval()\n  }\n  \n  private attachCamera () {\n    this.scene.registerBeforeRender(() => {\n      this.setDistance()\n      this.babylonCamera.position = this.meshHead.position\n      \n      this.babylonCamera.rotation.x = Number(Scalar.Lerp(this.babylonCamera.rotation.x, this.meshHead.rotation.x, 0.4).toFixed(5))\n      this.babylonCamera.rotation.y = Number(Scalar.Lerp(this.babylonCamera.rotation.y, this.meshHead.rotation.y, 0.25).toFixed(5))\n      \n      this.actualDistance = Number(Scalar.Lerp(this.actualDistance, this.calculateDistance.distance, this.calculateDistance.amount).toFixed(5))\n      \n      const dirZ = this.babylonCamera.getDirection(Axis.Z)\n      this.babylonCamera.position.addInPlace(dirZ.scaleInPlace(this.actualDistance))\n      \n      const dirY = this.babylonCamera.getDirection(Axis.Y)\n      this.babylonCamera.position.addInPlace(dirY.scaleInPlace(-MAX_DIST_CAMERA_Y))\n    })\n  }\n  \n  private setDistance () {\n    const headPosition = this.meshHead.position\n    let forward = new Vector3(0, -MAX_DIST_CAMERA_Y, -MAX_DIST_CAMERA_Z)\n    const m = this.meshHead.getWorldMatrix()\n    forward = Vector3.TransformCoordinates(forward, m)\n    const direction = Vector3.Normalize(forward.subtract(headPosition))\n    \n    const ray = new Ray(headPosition, direction, MAX_DIST_CAMERA_Z)\n    \n    const pickResult = this.scene.pickWithRay(ray, (mesh) => {\n      return mesh.checkCollisions\n    })\n    \n    let distance = -MAX_DIST_CAMERA_Z\n    let amount = 0.02\n   \n    if (this.isMoving) {\n      distance = -MAX_DIST_CAMERA_Z - 1.2\n    }\n    \n    if (pickResult && pickResult.pickedMesh) {\n      distance = -(pickResult.distance + 0.2)\n      amount = 0.5\n    }\n  \n    this.calculateDistance.distance = distance\n    this.calculateDistance.amount = amount\n  }\n  \n  private setIsMovingInterval()\n  {\n    setInterval(() => {\n      this.isMoving = Camera.getIstMoving()\n    }, 100)\n  }\n  \n  private static getIstMoving()\n  {\n    const playerState = store.getters.getPlayerById(store.state.player.id) as Player // TODO: дописать interval на смену move\n    return playerState.move.forward.isMoving\n  }\n}\n","import Body from '../сommon/Body'\nimport Controller from '../playerSelf/Controller'\nimport { Scene } from '@babylonjs/core'\nimport Character from '@/models/сommon/character/Character'\nimport Camera from '@/models/playerSelf/Camera'\n\nexport default class Player {\n  scene: Scene\n  playerId: string\n  \n  constructor (playerId: string) {\n    this.scene = globalThis.scene\n    this.playerId = playerId\n  \n    new Body(this.playerId)\n  \n    const character = new Character(this.playerId)\n    character.load(() => {\n      new Controller()\n      new Camera()\n    })\n  }\n}\n","import MoveCommon from '../сommon/Move'\n\nexport default class Move extends MoveCommon {\n\n}\n","import Move from './Move'\nimport SubscribeStore from '../сommon/SubscribeStore'\nimport { Scalar } from '@babylonjs/core'\nimport { Forward } from '@/store/players/types'\n\nexport default class Controller {\n  move: Move\n  playerId: string\n  subscribeStore?: SubscribeStore | null\n\n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.move = new Move(playerId, globalThis.scene)\n    this.subscribeStore = new SubscribeStore(this.playerId)\n  }\n\n  subscribe () {\n    if (!this.subscribeStore) {\n      return false\n    }\n    \n    this.subscribeStore.rotate((rotateX: number, rotateY: number) => {\n      this.move.rotate(rotateX, rotateY)\n    })\n\n    this.subscribeStore.forward((forward: Forward) => {\n      this.move.forward = {...forward}\n    })\n\n    this.subscribeStore.jump((jump: boolean) => {\n      if (jump) {\n        this.move.jump()\n      }\n    })\n\n    this.syncPosition()\n    this.syncRotation()\n  }\n  \n  dispose () {\n    this.subscribeStore?.unsubscribeAll()\n    this.move.dispose()\n  }\n\n  private syncPosition () {\n    if (!this.subscribeStore) {\n      return false\n    }\n    \n    let observerSyncCoordinate: any = null\n    \n    this.subscribeStore.position((position: any) => {\n      if (observerSyncCoordinate) {\n        this.move.scene.onBeforeRenderObservable.remove(observerSyncCoordinate)\n        observerSyncCoordinate = null\n      }\n\n      const meshFoot = this.move.meshFoot\n      const endX = Number(position.x.toFixed(5))\n      const endY = Number(position.y.toFixed(5))\n      const endZ = Number(position.z.toFixed(5))\n      const startX = Number(meshFoot.position.x.toFixed(5))\n      const startY = Number(meshFoot.position.y.toFixed(5))\n      const startZ = Number(meshFoot.position.z.toFixed(5))\n\n      if (!this.move.forward.isMoving &&\n        (\n          endX !== startX ||\n          endY !== startY ||\n          endZ !== startZ\n        )\n      ) {\n        observerSyncCoordinate = this.move.scene.onBeforeRenderObservable.add(() => {\n          meshFoot.position.x = Scalar.Lerp(meshFoot.position.x, endX, 0.4)\n          meshFoot.position.y = Scalar.Lerp(meshFoot.position.y, endY, 0.4)\n          meshFoot.position.z = Scalar.Lerp(meshFoot.position.z, endZ, 0.4)\n\n          if (\n            observerSyncCoordinate &&\n            Number(meshFoot.position.x.toFixed(5)) === endX &&\n            Number(meshFoot.position.y.toFixed(5)) === endY &&\n            Number(meshFoot.position.z.toFixed(5)) === endZ) {\n            this.move.scene.onBeforeRenderObservable.remove(observerSyncCoordinate)\n            observerSyncCoordinate = null\n          }\n        })\n      } else {\n        if (observerSyncCoordinate) {\n          this.move.scene.onBeforeRenderObservable.remove(observerSyncCoordinate)\n          observerSyncCoordinate = null\n        }\n      }\n    })\n  }\n\n  private syncRotation () {\n    let observerSyncCoordinate: any = null\n    if (!this.subscribeStore) {\n      return false\n    }\n    \n    this.subscribeStore.rotation((rotation: any) => {\n      if (observerSyncCoordinate) {\n        this.move.scene.onBeforeRenderObservable.remove(observerSyncCoordinate)\n        observerSyncCoordinate = null\n      }\n\n      const meshHead = this.move.meshHead\n      const meshFoot = this.move.meshFoot\n\n      const endX = Number(rotation.x.toFixed(5))\n      const endY = Number(rotation.y.toFixed(5))\n      const startX = Number(meshHead.rotation.x.toFixed(5))\n      const startY = Number(meshFoot.rotation.y.toFixed(5))\n\n      if (endX !== startX || endY !== startY) {\n        observerSyncCoordinate = this.move.scene.onBeforeRenderObservable.add(() => {\n          meshHead.rotation.x = Scalar.Lerp(meshHead.rotation.x, endX, 0.4)\n          meshFoot.rotation.y = Scalar.Lerp(meshFoot.rotation.y, endY, 0.4)\n\n          if (\n            observerSyncCoordinate &&\n            Number(meshFoot.rotation.x.toFixed(5)) === endX &&\n            Number(meshFoot.rotation.y.toFixed(5)) === endY\n          ) {\n            this.move.scene.onBeforeRenderObservable.remove(observerSyncCoordinate)\n            observerSyncCoordinate = null\n          }\n        })\n      } else {\n        if (observerSyncCoordinate) {\n          this.move.scene.onBeforeRenderObservable.remove(observerSyncCoordinate)\n          observerSyncCoordinate = null\n        }\n      }\n    })\n  }\n}\n","import Body from '../сommon/Body'\nimport Controller from './Controller'\nimport Character from '@/models/сommon/character/Character'\n\nexport default class Player {\n  body: Body\n  character: Character\n  controller?: Controller\n  playerId: string\n  \n  constructor (playerId: string) {\n    this.playerId = playerId\n    this.body = new Body(playerId)\n    this.character = new Character(playerId)\n  \n    this.character.load(() => {\n      this.controller = new Controller(playerId)\n      this.controller.subscribe()\n    })\n  }\n  \n  dispose() {\n    console.log('try desp')\n    this.controller?.dispose()\n    this.character.dispose()\n    this.body.dispose()\n  }\n}\n","import { AbstractMesh, Scene } from '@babylonjs/core'\nimport { Helpers } from '@/models/Helpers'\nimport ContainerManager from '@/models/scene/ContainerManager'\n\nexport default class Prefabs {\n  prefabs: AbstractMesh[]\n  scene: Scene\n  \n  constructor () {\n    this.scene = globalThis.scene\n    this.prefabs = []\n    \n    this.setPrefabs()\n    this.setItems().then(() => {\n      console.info('All prefabs loaded!')\n    })\n  }\n  \n  private setPrefabs () {\n    this.scene.meshes.forEach(mesh => {\n      if (Helpers.IsName(mesh.id, 'Prefab_', true)) {\n        mesh.isVisible = false\n        this.prefabs.push(mesh)\n      }\n    })\n  }\n  \n  private async setItems() {\n    for (const prefab of this.prefabs) {\n      const nameModel = `BTLMN_Prop_${prefab.id.replace('Prefab_', '')\n        .replace(/\\.[^/.]+$/, '')}.gltf`\n      \n      const path = `${process.env.VUE_APP_RESOURCES_PATH}graphics/prefabs/`\n      \n      try {\n        const container = await ContainerManager.getContainer(nameModel, path)\n        \n        if (!container) {\n          console.error(`Error loading container ${nameModel}:`)\n          continue\n        }\n        \n        const resources = container.instantiateModelsToScene()\n        const rootMesh = resources.rootNodes[0]\n        rootMesh.id = rootMesh.name;\n        \n        const meshes = rootMesh.getChildMeshes()\n        \n        meshes.forEach(mesh => {\n          mesh.id = mesh.name;\n          mesh.isPickable = false\n        });\n        \n        if (prefab) {\n          rootMesh.parent = prefab\n        }\n      } catch (error) {\n        console.error(`Error loading container ${nameModel}:`, error)\n      }\n    }\n  }\n}","import { Mesh } from '@babylonjs/core'\n\ninterface LOD {\n  name: string;\n  numbers: Array<string>;\n}\n\nexport default class LODs {\n  constructor () {\n    this.init()\n  }\n  \n  init() {\n    const meshes = globalThis.scene.getMeshesByTags('lod')\n    const LODs = [] as Array<LOD>\n      \n    meshes.forEach(mesh => {\n      const splitName = mesh.id.split('.')\n      const name = splitName[0]\n      const number = splitName[splitName.length -1]\n      \n      const oldLod = LODs.find((lod: LOD) => lod.name === name)\n      \n      if (oldLod) {\n        oldLod.numbers.push(number)\n      } else {\n        LODs.push({\n          name,\n          numbers: [number]\n        })\n      }\n    })\n    \n    LODs.forEach((LOD: LOD) => {\n      LOD.numbers.sort((a, b) => {\n        return Number(a) - Number(b)\n      })\n      \n      const mainLOD = scene.getMeshById(LOD.name + '.' + LOD.numbers[0]) as Mesh\n  \n      if (mainLOD) {\n        LOD.numbers.forEach((number, index) => {\n          if (index !== 0) {\n            const mesh = scene.getMeshById(LOD.name + '.' + number) as Mesh\n            \n            if (mesh) {\n              mainLOD.addLODLevel(Number(number), mesh)\n            }\n          }\n        })\n  \n        mainLOD.addLODLevel(500, null)\n      }\n    })\n  }\n}","import { AbstractMesh, Color4, Mesh, Ray, RayHelper, Scene, Vector3 } from '@babylonjs/core'\nimport { AdvancedDynamicTexture, Rectangle, TextBlock } from '@babylonjs/gui/2D'\nimport store from '@/store/index'\n\ninterface Item {\n  id: string;\n  mesh: AbstractMesh;\n  isFocused: boolean;\n}\n\nexport default class EventPoints {\n  items: Array<Item>\n  scene: Scene\n  store: any\n  playerId: string\n  meshHead: Mesh\n  meshFoot: Mesh\n  showRay: boolean\n  rays: Array<Ray>\n  rectLabel: Rectangle\n  \n  constructor () {\n    this.scene = globalThis.scene\n    this.store = store\n    this.playerId = this.store.state.player.id\n    this.meshHead = this.scene.getMeshById('playerHead_' + this.playerId) as Mesh\n    this.meshFoot = this.scene.getMeshById('playerFoot_' + this.playerId) as Mesh\n    this.showRay = false\n    this.items = []\n    this.rays = []\n    this.rectLabel = new Rectangle()\n    \n    this.initItems()\n    this.initLabel()\n    this.initCastRays()\n  }\n  \n  private initItems () {\n    \n    this.scene.getMeshesByTags('event_point').forEach((mesh: Mesh) => {\n      if (mesh) {\n        console.log(mesh)\n        mesh.isPickable = true\n        mesh.edgesWidth = 4.0\n        mesh.edgesColor = new Color4(255, 255, 255, 1)\n        mesh.isVisible = true\n        \n        this.items.push({\n          id: mesh.id,\n          mesh,\n          isFocused: false\n        })\n      }\n    })\n  }\n  \n  private buildRays () {\n    const cellSize = 0.15\n    const areaSize = 0.8\n    const countCells = Math.round((areaSize * areaSize) / (cellSize * cellSize))\n    let cellStartX = 0 - (cellSize + (cellSize / 2))\n    const cellFinishX = cellStartX + areaSize\n    let cellY = cellSize + (cellSize / 2)\n    \n    let i = 0\n    while (i < countCells) {\n      const rayX = cellStartX + (cellSize / 2)\n      const rayY = cellY - (areaSize / 2)\n      \n      const length = 2\n      const ray = new Ray(Vector3.Zero(), Vector3.Zero())\n      const rayHelper = new RayHelper(ray)\n      rayHelper.attachToMesh(this.meshHead, new Vector3(rayX, rayY, length), Vector3.Zero(), length)\n      \n      if (this.showRay) {\n        rayHelper.show(this.scene)\n      }\n      \n      cellStartX += cellSize\n      if (cellFinishX < cellStartX + cellSize) {\n        cellStartX = 0 - (cellSize + (cellSize / 2))\n        cellY += cellSize\n      }\n      \n      this.rays.push(ray)\n      \n      i++\n    }\n  }\n  \n  private castRay (ray: Ray) {\n    const hit = this.scene.pickWithRay(ray)\n    this.unfocusedAll()\n    this.hideLabel()\n    \n    if (hit && hit.pickedMesh) {\n      this.focused(hit.pickedMesh.id)\n      return true\n    }\n    \n    return false\n  }\n  \n  private castRays () {\n    this.rays.every(ray => {\n      return !this.castRay(ray)\n    })\n  }\n  \n  private focused (meshId: string) {\n    const item = this.items.find(item => item.id === meshId)\n    \n    if (item && !item.isFocused) {\n      this.unfocusedAll()\n      item.isFocused = true\n      item.mesh.enableEdgesRendering()\n      this.showLabel(item)\n    }\n  }\n  \n  private unfocusedAll () {\n    this.items.filter(item => item.isFocused).forEach(item => {\n      item.isFocused = false\n      item.mesh.disableEdgesRendering()\n    })\n  }\n  \n  private initLabel () {\n    const advancedTexture = AdvancedDynamicTexture.CreateFullscreenUI('UI')\n    \n    this.rectLabel.width = 0.1\n    this.rectLabel.height = '40px'\n    this.rectLabel.cornerRadius = 20\n    this.rectLabel.color = 'Orange'\n    this.rectLabel.thickness = 2\n    this.rectLabel.background = 'green'\n    advancedTexture.addControl(this.rectLabel)\n    \n    const label = new TextBlock()\n    label.text = 'Take (E)'\n    this.rectLabel.addControl(label)\n    \n    this.rectLabel.linkOffsetY = -50\n    this.rectLabel.isVisible = false\n  }\n  \n  private showLabel (item: Item) {\n    this.rectLabel.linkWithMesh(item.mesh)\n    this.rectLabel.isVisible = true\n  }\n  \n  private hideLabel () {\n    this.rectLabel.isVisible = false\n  }\n  \n  private initCastRays () {\n    this.buildRays()\n    \n    setInterval(() => {\n      this.castRays()\n    }, 80)\n  }\n}\n","import { Engine } from '@babylonjs/core'\nimport Scene from './scene/Scene'\nimport store from '@/store/index'\nimport Audio from '@/models/sounds/Audio'\nimport ServerClient from './ServerClient'\nimport DevMode from '@/models/scene/DevMode'\nimport PlayerSelf from '@/models/playerSelf/Player'\nimport Player from '@/models/player/Player'\nimport { v4 as uuidv4 } from 'uuid'\nimport Prefabs from '@/models/scene/Prefabs'\nimport LODs from '@/models/mehanics/LODs'\nimport EventPoints from '@/models/mehanics/EventPoints'\n\nexport default class Game {\n  players?: Array<Player>\n  \n  init () {\n    globalThis.assetContainers = []\n    this.players = []\n    const canvas = document.getElementById('canvas') as HTMLCanvasElement\n    canvas.width = window.innerWidth\n    canvas.height = window.innerHeight\n    \n    const engine = new Engine(canvas, true, { preserveDrawingBuffer: false, stencil: true })\n    const sceneModel = new Scene(engine)\n    const playerId = this.getPlayerId()\n    store.commit('SET_SELF_PLAYER_ID', playerId)\n    \n    sceneModel.load(async () => {\n      new Audio()\n      sceneModel.setEnvironment()\n      \n      const serverClient = new ServerClient(playerId)\n      serverClient.init()\n      \n      store.subscribe(mutation => {\n        if (mutation.type === 'ADD_PLAYER') {\n          if (mutation.payload.id === playerId) {\n            new PlayerSelf(playerId)\n            \n            this.setClassesGame()\n            store.commit('LOADING_TOGGLE')\n            \n            console.info('Game loaded')\n            console.info('Self player ' + playerId + ' created')\n  \n            serverClient.syncPlayer()\n          } else {\n            this.players?.push(new Player(mutation.payload.id))\n            console.info('Player ' + playerId + ' created!')\n          }\n        }\n      })\n    })\n  \n    store.subscribe(mutation => {\n      if (mutation.type === 'REMOVE_PLAYER') {\n        const player = this.players?.find(player => player.playerId === mutation.payload)\n\n        if (player) {\n          player.dispose()\n          console.info('Player ' + player.playerId + ' removed')\n        }\n      }\n    })\n  }\n  \n  setClassesGame () {\n   // new LightPoints()\n    new DevMode()\n    new Prefabs()\n    new LODs()\n    new EventPoints()\n  }\n  \n  getPlayerId () {\n    const queryString = window.location.search\n    const urlParams = new URLSearchParams(queryString)\n    let playerId = urlParams.get('playerId')\n    \n    if (!playerId) {\n      playerId = 'guest_' + uuidv4()\n    }\n    \n    return playerId\n  }\n}","<template>\n    <div id=\"top_bar\" class=\"no_focus_game\">\n        <div id=\"menu_button\">\n            <div class=\"menu_button\" @click=\"openMenu\"></div>\n        </div>\n\n        <div id=\"wallet_suiet\"></div>\n    </div>\n</template>\n\n<script>\n  import MountWallet from '../WalletSuiet'\n\n  export default {\n    mounted () {\n      MountWallet()\n    },\n    methods: {\n      openMenu() {\n        this.$store.commit('SET_OPEN_MENU', true)\n      }\n    }\n  }\n</script>","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { ConnectButton, WalletProvider } from '@suiet/wallet-kit'\nimport '@suiet/wallet-kit/style.css'\nimport '../../styles/suiet.sass'\n\nconst App = () => {\n  return (\n    <div style={{\n      zIndex: 1000,\n      position: 'absolute',\n      top: '5%',\n      right: '2%',\n    }}>\n      <WalletProvider>\n        <ConnectButton>Connect Wallet</ConnectButton>\n      </WalletProvider>\n    </div>\n  );\n};\n\nexport default function MountDoom () {\n  const root = createRoot(document.getElementById('wallet_suiet'))\n\n  root.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  );\n}\n","import { render } from \"./TopBar.vue?vue&type=template&id=7d7c909f\"\nimport script from \"./TopBar.vue?vue&type=script&lang=js\"\nexport * from \"./TopBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/dmitryalferof/PhpstormProjects/battlemon/babylonjs-game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"level_preview\" }\nconst _hoisted_2 = { class: \"container\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"text\" }, \" Are you ready? \", -1)\nconst _hoisted_4 = { class: \"container_button\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _hoisted_3,\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"button\", {\n          onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.play && _ctx.play(...args))),\n          class: \"button\"\n        }, \"play\")\n      ])\n    ])\n  ], 512)), [\n    [_vShow, !this.$store.state.level.loading && this.show]\n  ])\n}","\nimport { defineComponent } from 'vue'\n\nexport default defineComponent({\n  name: 'LevelPreview',\n  methods: {\n    play () {\n      this.$store.commit('SET_PLAY')\n      this.show = false\n    }\n  },\n  data () {\n    return {\n      show: true\n    }\n  }\n})\n","import { render } from \"./LevelPreview.vue?vue&type=template&id=17485c69&ts=true\"\nimport script from \"./LevelPreview.vue?vue&type=script&lang=ts\"\nexport * from \"./LevelPreview.vue?vue&type=script&lang=ts\"\n\nimport \"./LevelPreview.vue?vue&type=style&index=0&id=17485c69&lang=css\"\n\nimport exportComponent from \"/Users/dmitryalferof/PhpstormProjects/battlemon/babylonjs-game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  id: \"menu\",\n  class: \"modal no_focus_game\"\n}\nconst _hoisted_2 = { class: \"container\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title margin_bottom\" }, \"Menu\", -1)\nconst _hoisted_5 = { class: \"list\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"li\", null, [\n  /*#__PURE__*/_createElementVNode(\"a\", { href: \"/home\" }, \"Exit\")\n], -1)\nconst _hoisted_7 = { class: \"button_bar\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createElementVNode(\"ul\", _hoisted_5, [\n          _createElementVNode(\"li\", null, [\n            _createElementVNode(\"a\", {\n              onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.openSettings && _ctx.openSettings(...args)))\n            }, \"Settings\")\n          ]),\n          _hoisted_6\n        ]),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"a\", {\n            onClick: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.closeMenu && _ctx.closeMenu(...args))),\n            class: \"button\"\n          }, \"Close\")\n        ])\n      ])\n    ])\n  ], 512)), [\n    [_vShow, this.$store.state.level.isMenuOpen]\n  ])\n}","\n  import { defineComponent } from 'vue'\n\n  export default defineComponent({\n    methods: {\n      closeMenu() {\n        this.$store.commit('SET_OPEN_MENU', false)\n      },\n      openSettings() {\n        this.$store.commit('SET_SETTINGS_OPEN', true)\n      }\n    }\n  })\n","import { render } from \"./MenuLevel.vue?vue&type=template&id=621e8932&ts=true\"\nimport script from \"./MenuLevel.vue?vue&type=script&lang=ts\"\nexport * from \"./MenuLevel.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/dmitryalferof/PhpstormProjects/battlemon/babylonjs-game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = {\n  id: \"settings\",\n  class: \"modal no_focus_game\"\n}\nconst _hoisted_2 = { class: \"container\" }\nconst _hoisted_3 = { class: \"content\" }\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", { class: \"title margin_bottom\" }, \"Settings\", -1)\nconst _hoisted_5 = { class: \"list\" }\nconst _hoisted_6 = [\"onChange\", \"checked\"]\nconst _hoisted_7 = { class: \"button_bar\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _hoisted_4,\n        _createElementVNode(\"ul\", _hoisted_5, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.fields, (field, index) => {\n            return (_openBlock(), _createElementBlock(\"li\", { key: index }, [\n              _createElementVNode(\"label\", null, [\n                _createElementVNode(\"input\", {\n                  type: \"checkbox\",\n                  onChange: ($event: any) => (_ctx.saveField(field.name, $event)),\n                  checked: field.value\n                }, null, 40, _hoisted_6),\n                _createTextVNode(\" \" + _toDisplayString(field.name), 1)\n              ])\n            ]))\n          }), 128))\n        ]),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"a\", {\n            onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.close && _ctx.close(...args))),\n            class: \"button\"\n          }, \"Close\")\n        ])\n      ])\n    ])\n  ], 512)), [\n    [_vShow, this.$store.state.settings.open]\n  ])\n}","\n  import { defineComponent } from 'vue'\n\n  export default defineComponent({\n    name: 'game-home',\n    computed: {\n      fields(): any {\n        return this.$store.getters.settingFields\n      }\n    },\n    methods: {\n      saveField (name: string, event: any) {\n        this.$nextTick(() => {\n          this.$store.commit('SET_SETTING_FIELD_VALUE', {name, value: event.target.checked})\n        })\n\n\n      },\n      close () {\n        this.$store.commit('SET_SETTINGS_OPEN', false)\n      }\n    },\n    data: function () {\n      return {\n        soundEnable: true\n      }\n    }\n  })\n","import { render } from \"./Settings.vue?vue&type=template&id=00492990&ts=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/dmitryalferof/PhpstormProjects/battlemon/babylonjs-game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\n  import { defineComponent } from 'vue'\n  import Game from '@/models/Game'\n  import TopBar from '@/views/gui/topbar/TopBar.vue'\n  import LevelPreview from '@/views/LevelPreview.vue'\n  import MenuLevel from '@/views/gui/MenuLevel.vue'\n  import Settings from '@/views/gui/Settings.vue'\n  import { mapGetters } from 'vuex'\n\n  export default defineComponent({\n    name: 'game-level',\n    mounted (): void {\n      this.$nextTick(() => {\n        const queryString = window.location.search;\n        const urlParams = new URLSearchParams(queryString);\n        const level = urlParams.get('level')\n        this.$store.commit('SET_LEVEL', level ? level : 1)\n        const game = new Game()\n        game.init()\n      })\n    },\n    computed: {\n      ...mapGetters([\n        'finish'\n      ])\n    },\n    watch: {\n      finish(value) {\n        if (value) {\n          window.location.href = '/finish'\n        }\n      }\n    },\n    components: {\n      TopBar,\n      LevelPreview,\n      MenuLevel,\n      Settings\n    }\n  })\n","import { render } from \"./App.vue?vue&type=template&id=340def46&scoped=true&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=340def46&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/dmitryalferof/PhpstormProjects/battlemon/babylonjs-game/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-340def46\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\n/* Theme variables */\nimport './styles/app.sass'\n\nimport store from '@/store/index'\n\ncreateApp(App)\n  .use(store)\n  .mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkbabylon_js\"] = self[\"webpackChunkbabylon_js\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(493); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","id","_hoisted_2","_createElementVNode","_hoisted_3","key","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_TopBar","_resolveComponent","_component_MenuLevel","_component_Settings","_component_LevelPreview","_openBlock","_createElementBlock","_createVNode","this","$store","state","level","loading","_createCommentVNode","mutations","SET_PRESS_MOVE_RIGHT","payload","right","SET_PRESS_MOVE_LEFT","left","SET_PRESS_MOVE_UP","up","SET_PRESS_MOVE_DOWN","down","SET_MOVE_LAST_EVENT","lastEvent","SET_IS_USED_MOVE_CONTROLLER","isUsed","getters","controllerMoveIsUsed","controllerMove","SET_PRESS_ROTATE_RIGHT","SET_PRESS_ROTATE_LEFT","SET_PRESS_ROTATE_UP","SET_PRESS_ROTATE_DOWN","SET_ROTATE_LAST_EVENT","SET_IS_USED_ROTATE_CONTROLLER","controllerRotate","Settings","fields","name","value","label","validateFieldName","field","find","setValueByName","getFields","settings","map","localStorage","setItem","JSON","stringify","getValueByName","settingsStorage","getItem","parse","String","oldField","settingField","SET_SETTINGS_OPEN","open","SET_SETTING_FIELD_VALUE","SettingsStorage","forEach","SettingsLocalStorage","settingFields","getSettingsFieldByName","getSettingsValueByName","Level","saveCompletedLevel","levelId","checkCompletedLevelId","levelsIds","getCompletedLevelsIds","push","join","setLastCompletedLevelId","completedLevels","split","getLastCompletedLevelId","Number","ids","SET_LEVEL","SET_PLAY","play","SET_OPEN_MENU","isMenuOpen","SET_DATE_LAST_USED_CONTROLLERS","dateLastUsedControllers","SET_IS_USED_CONTROLLERS","isUsedControllers","MAP_TOGGLE","isMapOpen","LOADING_TOGGLE","SET_LOWER_FLOOR_POSITION","lowerFloorPosition","x","y","z","SET_LOWER_FLOOR_SIZE","lowerFloorSize","width","height","ADD_KEY","keys","SET_ACTIVE_KEY","status","keysActiveCount","filter","length","CHARGE_BATTERY_UP","batteryCharge","CHARGE_BATTERY_DOWN","SET_FINISH","LevelStorage","finish","playerPosition","playerRotate","getPlayerById","playerId","list","player","playerExample","character","items","properties","move","forward","front","back","isMoving","sprint","rotate","jump","isFly","isFlyUp","syncData","position","rotation","ADD_PLAYER","newPlayer","REMOVE_PLAYER","splice","findIndex","FLY_ENABLED","FLY_UP_ENABLED","FLY_UP_DISABLED","FLY_DISABLED","SET_FORWARD","UPDATE_ROTATE","UPDATE_ROTATION","playerState","UPDATE_POSITION","JUMP_DISABLED","JUMP_ENABLED","JUMP_SET","SYNC_PLAYER","statePlayer","players","store","strict","levels","SET_SELF_PLAYER_ID","modules","Vuex","Environment","constructor","_defineProperty","scene","globalThis","shadowGenerator","setupHDR","url","process","hdrTexture","CubeTexture","hdrRotation","setReflectionTextureMatrix","Matrix","Tools","gammaSpace","environmentTexture","setupGlow","gl","GlowLayer","mainTextureFixedSize","blurKernelSize","intensity","setupFog","fogColor","Color3","fogDensity","fogMode","Scene","setupLightAndShadow","light","getLightById","ShadowGenerator","console","info","Helpers","getRandomInt","min","max","Math","ceil","floor","random","get2DCoordinatesFromMesh","mesh","camera","engine","pos","Vector3","getAbsolutePosition","getTransformMatrix","viewport","toGlobal","getRenderWidth","getRenderHeight","top","getIsSuffix","suffix","nameArray","item","IsName","text","partly","arguments","undefined","search","getMeshesByName","meshes","getMeshByName","getTime","date","Date","getAverage","rollingAverage","RollingAverage","add","getAnimationRatio","average","numberFixed","number","toFixed","getNameId","meshId","drawEllipsoid","getScene","ellipsoid","MeshBuilder","diameterX","diameterY","diameterZ","segments","onBeforeRenderObservable","copyFrom","addInPlace","ellipsoidOffset","debugmat","StandardMaterial","diffuseColor","wireframe","material","isFile","pop","indexOf","async","filePath","arr","filePathLastFolder","response","axios","manifest","data","error","BabylonScene","callbackLoad","window","addEventListener","resize","SceneLoader","fileName","timestamp","getFileTimestamp","filePathWithTimestamp","e","optimize","runRenderLoop","message","log","autoClearDepthAndStencil","meshNotAnimate","getMeshesByTags","freezeWorldMatrix","doNotSyncBoundingInfo","cullingStrategy","AbstractMesh","options","SceneOptimizerOptions","optimizer","SceneOptimizer","start","setEnvironment","environment","SoundMain","path","subscribe","sound","type","mutation","isPlaying","stop","Music","super","Sound","loop","autoplay","volume","Background","Audio","isLevelRun","pathAudio","audioEngine","Engine","useCustomUnlockedButton","context","audioContext","resume","unlock","SubscribeStore","unsubscribes","dispose","callbackEvent","oldMove","unsubscribe","stateMove","equal","isEqual","oldForward","stateForward","oldStateJump","fly","oldState","flyEnd","oldStateRotate","rotateX","rotateY","oldStatePosition","statePosition","oldStateRotation","stateRotation","oldSyncData","syncPlayer","oldPlayer","unsubscribeAll","ServerClient","sessionId","room","init","client","Colyseus","joinOrCreate","then","onAdd","onRemove","send","onMessage","alert","subscribeStore","DevMode","enabled","globalRoot","document","getElementsByTagName","debugLayer","show","overlay","Body","meshHeadId","meshFootId","observer","size","meshHead","meshFoot","Tags","meshCoordinator","getMeshById","visibility","checkCollisions","isPickable","remove","Collisions","listCollisions","listCollisionsFloor","setCollisions","isVisible","static","keyMesh","listMesh","intersectsMesh","checkCollisionFloor","checkCollisionList","DEFAULT_SPEED","SPRINT_SPEED","GRAVITY","JUMP_HEIGHT","Move","modelCollisions","flyModeTimerId","flyUp","animationJumpFrames","footIsCollision","jumpAnimation","speed","createJumpAnimation","observerBefore","beforeRender","observerAfter","onAfterRenderObservable","afterRender","Animation","easingFunction","SineEase","setEasingMode","EasingFunction","setEasingFunction","setAverage","changeSpeed","nextStep","setNewPosition","gravity","clearTimeout","setTimeout","frame","setKeys","animations","beginDirectAnimation","matrix","getWorldMatrix","vector","moveWithCollisions","MoveCommon","updatePositionToState","updateRotationToState","updateFly","oldPosition","setInterval","commit","oldRotation","oldFly","oldFlyUp","Controller","sensitiveMouse","mouseIsCaptured","mouseEvent","onKeyboardObservable","event","keyEvent","eventCode","code","eventType","KeyboardEventTypes","elementContent","getElementById","checkFocusAvailable","composedPath","itemChecked","tagName","classList","contains","canvas","requestPointerLock","pointerlockchange","pointerLockElement","movementY","movementX","Idle","weight","autoPlayLoop","animation","getAnimationGroupByName","setAnimations","setWeightForAllAnimatables","Run","JumpMiddle","JumpFinish","Sprint","animationGroups","animationGroupCurrent","setAnimationGroups","observableBeforeAnimation","onBeforeAnimation","idle","pushAnimation","getAnimationByName","group","includes","animationJumpMiddle","animationJumpFinish","getAnimationByState","blending","jumpFinishAnimation","targetedAnimations","JumpFinishAnimationEvent","AnimationEvent","addEvent","animationIdle","animationRun","animationSprint","animationGroup","onBeforeAnimationsObservable","removeCallback","Scalar","Rotation","angle","meshCharacter","animatable","isAnimated","forwardAngle","setAnimation","CubicEase","setAngle","angleNew","radianNew","radianOld","angleOld","diff","shortWayAngle","diffAngle","abs","PI","stopAnimation","frames","beginAnimation","syncIntervalId","clearInterval","ContainerManager","container","assetContainers","removeAllFromScene","newContainer","Items","bodyMesh","characterMeshes","getChildMeshes","placeholders","setPlaceholders","setItems","storePlayer","placeholder","assetContainer","getContainer","flavour","rootId","resources","instantiateModelsToScene","sourceName","rootMesh","rootNodes","parent","Character","meshBodyId","meshRootId","load","callback","setMeshes","setShadow","meshBody","meshRoot","rotationQuaternion","resetLocalMatrix","disposeNotActiveProperties","filterProperties","playerStore","property","getShadowGenerator","addShadowCaster","MAX_DIST_CAMERA_Z","MAX_DIST_CAMERA_Y","Camera","babylonCamera","UniversalCamera","actualDistance","calculateDistance","amount","distance","maxZ","minZ","activeCamera","attachCamera","setIsMovingInterval","registerBeforeRender","setDistance","dirZ","getDirection","Axis","scaleInPlace","dirY","headPosition","m","direction","subtract","ray","Ray","pickResult","pickWithRay","pickedMesh","getIstMoving","Player","syncPosition","syncRotation","observerSyncCoordinate","endX","endY","endZ","startX","startY","startZ","body","controller","Prefabs","prefabs","setPrefabs","prefab","nameModel","replace","LODs","splitName","oldLod","lod","numbers","LOD","sort","a","b","mainLOD","index","addLODLevel","EventPoints","showRay","rays","rectLabel","Rectangle","initItems","initLabel","initCastRays","edgesWidth","edgesColor","Color4","isFocused","buildRays","cellSize","areaSize","countCells","round","cellStartX","cellFinishX","cellY","i","rayX","rayY","rayHelper","RayHelper","attachToMesh","castRay","hit","unfocusedAll","hideLabel","focused","castRays","every","enableEdgesRendering","showLabel","disableEdgesRendering","advancedTexture","AdvancedDynamicTexture","cornerRadius","color","thickness","background","addControl","TextBlock","linkOffsetY","linkWithMesh","Game","innerWidth","innerHeight","preserveDrawingBuffer","stencil","sceneModel","getPlayerId","serverClient","PlayerSelf","setClassesGame","queryString","location","urlParams","URLSearchParams","get","uuidv4","class","onClick","openMenu","App","React","style","zIndex","WalletProvider","ConnectButton","MountDoom","root","createRoot","mounted","MountWallet","methods","__exports__","_withDirectives","_vShow","defineComponent","_hoisted_6","href","_hoisted_7","openSettings","closeMenu","_Fragment","_renderList","onChange","$event","saveField","checked","_createTextVNode","_toDisplayString","close","computed","$nextTick","target","soundEnable","game","mapGetters","watch","components","TopBar","LevelPreview","MenuLevel","createApp","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","r","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","__esModule","ns","create","def","current","getOwnPropertyNames","d","definition","o","defineProperty","enumerable","g","Function","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","nc","__webpack_exports__"],"sourceRoot":""}